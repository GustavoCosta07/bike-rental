2025-04-25 00:08:20.686 -03:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 00:08:22.498 -03:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-04-25 00:08:22.727 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-04-25 00:08:23.196 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 00:08:23.969 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-04-25 00:08:25.983 -03:00 [INF] Configured endpoint MotorcycleNotification, Consumer: BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer
2025-04-25 00:08:26.562 -03:00 [INF] User profile is available. Using 'C:\Users\dtiDigital\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 00:08:26.843 -03:00 [INF] Delivery Processing Service is starting.
2025-04-25 00:08:28.104 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 00:08:28.118 -03:00 [INF] Bus started: "amazonsqs://us-east-1/"
2025-04-25 00:08:28.869 -03:00 [INF] Now listening on: http://localhost:5178
2025-04-25 00:08:29.456 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 00:08:29.457 -03:00 [INF] Hosting environment: Development
2025-04-25 00:08:29.460 -03:00 [INF] Content root path: C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api
2025-04-25 00:08:30.903 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/index.html - null null
2025-04-25 00:08:31.663 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/index.html - 200 null text/html;charset=utf-8 762.3764ms
2025-04-25 00:08:31.734 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 00:08:31.769 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 34.4822ms
2025-04-25 00:08:31.865 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_vs/browserLink - null null
2025-04-25 00:08:32.187 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_vs/browserLink - 200 null text/javascript; charset=UTF-8 321.8823ms
2025-04-25 00:08:32.395 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - null null
2025-04-25 00:08:32.687 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 291.5263ms
2025-04-25 00:08:44.097 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/api/Motorcycles - null null
2025-04-25 00:08:44.125 -03:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 00:08:44.366 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api)'
2025-04-25 00:08:44.426 -03:00 [INF] Route matched with {action = "GetAll", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 00:08:59.401 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
2025-04-25 00:08:59.529 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[BikeRental.Domain.Entities.Motorcycle, BikeRental.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BikeRental.Application.Models.MotorcycleDto, BikeRental.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 00:08:59.560 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api) in 15126.8918ms
2025-04-25 00:08:59.563 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api)'
2025-04-25 00:08:59.574 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/api/Motorcycles - 200 null application/json; charset=utf-8; ver=1.0 15477.5222ms
2025-04-25 00:10:53.042 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/Motorcycles - application/json; ver=1.0 68
2025-04-25 00:10:53.062 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-04-25 00:10:53.073 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 00:10:53.087 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-25 00:10:53.113 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/Motorcycles - 401 null application/problem+json; charset=utf-8 70.8399ms
2025-04-25 00:12:18.066 -03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 00:12:18.601 -03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-04-25 00:12:18.633 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-04-25 00:12:18.643 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 00:12:18.656 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-04-25 00:12:19.870 -03:00 [INF] Configured endpoint MotorcycleNotification, Consumer: BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer
2025-04-25 00:12:20.244 -03:00 [INF] User profile is available. Using 'C:\Users\dtiDigital\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 00:12:20.488 -03:00 [INF] Delivery Processing Service is starting.
2025-04-25 00:12:21.307 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 00:12:21.419 -03:00 [INF] Bus started: "amazonsqs://us-east-1/"
2025-04-25 00:12:21.589 -03:00 [INF] Now listening on: http://localhost:5178
2025-04-25 00:12:21.973 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 00:12:21.976 -03:00 [INF] Hosting environment: Development
2025-04-25 00:12:21.978 -03:00 [INF] Content root path: C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api
2025-04-25 00:12:24.349 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/index.html - null null
2025-04-25 00:12:25.638 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/index.html - 200 null text/html;charset=utf-8 1291.579ms
2025-04-25 00:12:26.232 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 00:12:26.256 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 23.6737ms
2025-04-25 00:12:26.341 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_vs/browserLink - null null
2025-04-25 00:12:26.478 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_vs/browserLink - 200 null text/javascript; charset=UTF-8 137.6131ms
2025-04-25 00:12:26.982 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - null null
2025-04-25 00:12:27.041 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.0506ms
2025-04-25 00:16:01.441 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/Motorcycles - application/json; ver=1.0 66
2025-04-25 00:16:01.472 -03:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 00:16:01.788 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 00:16:01.824 -03:00 [INF] Route matched with {action = "Create", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.MotorcycleCreateDto) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 00:16:02.104 -03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__licensePlate_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Motorcycles" AS m
    WHERE m."LicensePlate" = @__licensePlate_0)
2025-04-25 00:16:02.460 -03:00 [INF] Executed DbCommand (30ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Motorcycles" ("Id", "CreatedAt", "LicensePlate", "Model", "UpdatedAt", "Year")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-25 00:16:02.910 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'BikeRental.Application.Models.MotorcycleDto'.
2025-04-25 00:16:02.974 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api) in 1142.5762ms
2025-04-25 00:16:02.977 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 00:16:02.992 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/Motorcycles - 201 null application/json; charset=utf-8; ver=1.0 1550.7403ms
2025-04-25 00:16:13.106 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/api/Motorcycles - null null
2025-04-25 00:16:13.124 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api)'
2025-04-25 00:16:13.134 -03:00 [INF] Route matched with {action = "GetAll", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 00:16:24.133 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
2025-04-25 00:16:24.155 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[BikeRental.Domain.Entities.Motorcycle, BikeRental.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BikeRental.Application.Models.MotorcycleDto, BikeRental.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 00:16:24.160 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api) in 11020.0178ms
2025-04-25 00:16:24.162 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api)'
2025-04-25 00:16:24.164 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/api/Motorcycles - 200 null application/json; charset=utf-8; ver=1.0 11057.866ms
2025-04-25 00:17:10.575 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/api/Motorcycles/b197017f-4a43-4cf5-b36a-504cc4c2d996 - null null
2025-04-25 00:17:10.601 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-04-25 00:17:10.610 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-25 00:17:10.618 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-25 00:17:10.648 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/api/Motorcycles/b197017f-4a43-4cf5-b36a-504cc4c2d996 - 401 null application/problem+json; charset=utf-8 73.2072ms
2025-04-25 00:17:21.361 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 00:18:04.258 -03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 00:18:04.673 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-04-25 00:18:04.697 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-04-25 00:18:04.705 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 00:18:04.715 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-04-25 00:18:05.447 -03:00 [INF] Configured endpoint MotorcycleNotification, Consumer: BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer
2025-04-25 00:18:05.838 -03:00 [INF] User profile is available. Using 'C:\Users\dtiDigital\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 00:18:06.050 -03:00 [INF] Delivery Processing Service is starting.
2025-04-25 00:18:06.916 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 00:18:07.038 -03:00 [INF] Bus started: "amazonsqs://us-east-1/"
2025-04-25 00:18:07.185 -03:00 [INF] Now listening on: http://localhost:5178
2025-04-25 00:18:07.710 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 00:18:07.712 -03:00 [INF] Hosting environment: Development
2025-04-25 00:18:07.714 -03:00 [INF] Content root path: C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api
2025-04-25 00:18:09.671 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/index.html - null null
2025-04-25 00:18:10.922 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/index.html - 200 null text/html;charset=utf-8 1254.2386ms
2025-04-25 00:18:11.191 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 00:18:11.213 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 21.9118ms
2025-04-25 00:18:11.351 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_vs/browserLink - null null
2025-04-25 00:18:11.447 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_vs/browserLink - 200 null text/javascript; charset=UTF-8 95.7466ms
2025-04-25 00:18:11.662 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - null null
2025-04-25 00:18:11.693 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 30.7243ms
2025-04-25 00:19:08.274 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/api/Motorcycles/b197017f-4a43-4cf5-b36a-504cc4c2d996 - null null
2025-04-25 00:19:08.296 -03:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 00:19:08.613 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetById (BikeRental.Api)'
2025-04-25 00:19:08.654 -03:00 [INF] Route matched with {action = "GetById", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 00:19:08.977 -03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
WHERE m."Id" = @__p_0
LIMIT 1
2025-04-25 00:19:09.181 -03:00 [INF] Executing OkObjectResult, writing value of type 'BikeRental.Application.Models.MotorcycleDto'.
2025-04-25 00:19:09.232 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.GetById (BikeRental.Api) in 568.4827ms
2025-04-25 00:19:09.238 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetById (BikeRental.Api)'
2025-04-25 00:19:09.263 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/api/Motorcycles/b197017f-4a43-4cf5-b36a-504cc4c2d996 - 200 null application/json; charset=utf-8; ver=1.0 988.3161ms
2025-04-25 00:19:38.755 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/api/Motorcycles/b197017f-4a43-4cf5-b36a-504cc4c2d997 - null null
2025-04-25 00:19:38.766 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetById (BikeRental.Api)'
2025-04-25 00:19:38.768 -03:00 [INF] Route matched with {action = "GetById", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 00:19:38.786 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
WHERE m."Id" = @__p_0
LIMIT 1
2025-04-25 00:19:38.798 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-25 00:19:38.831 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.GetById (BikeRental.Api) in 59.0282ms
2025-04-25 00:19:38.834 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetById (BikeRental.Api)'
2025-04-25 00:19:38.839 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/api/Motorcycles/b197017f-4a43-4cf5-b36a-504cc4c2d997 - 404 null application/problem+json; charset=utf-8; ver=1.0 83.8218ms
2025-04-25 00:19:53.268 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/api/Motorcycles/b197017f-4a43-4cf5-b36a-504cc4c2d999 - null null
2025-04-25 00:19:53.278 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetById (BikeRental.Api)'
2025-04-25 00:19:53.281 -03:00 [INF] Route matched with {action = "GetById", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 00:19:53.298 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
WHERE m."Id" = @__p_0
LIMIT 1
2025-04-25 00:19:53.306 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-25 00:19:53.311 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.GetById (BikeRental.Api) in 26.3192ms
2025-04-25 00:19:53.314 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetById (BikeRental.Api)'
2025-04-25 00:19:53.316 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/api/Motorcycles/b197017f-4a43-4cf5-b36a-504cc4c2d999 - 404 null application/problem+json; charset=utf-8; ver=1.0 48.3777ms
2025-04-25 00:44:28.122 -03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 00:44:28.552 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-04-25 00:44:28.574 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-04-25 00:44:28.583 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 00:44:28.595 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-04-25 00:44:29.270 -03:00 [INF] Configured endpoint MotorcycleNotification, Consumer: BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer
2025-04-25 00:44:29.484 -03:00 [INF] User profile is available. Using 'C:\Users\dtiDigital\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 00:44:29.603 -03:00 [INF] Delivery Processing Service is starting.
2025-04-25 00:44:30.069 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 00:44:30.147 -03:00 [INF] Bus started: "amazonsqs://us-east-1/"
2025-04-25 00:44:30.279 -03:00 [INF] Now listening on: http://localhost:5178
2025-04-25 00:44:30.477 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 00:44:30.479 -03:00 [INF] Hosting environment: Development
2025-04-25 00:44:30.480 -03:00 [INF] Content root path: C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api
2025-04-25 00:44:31.126 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/index.html - null null
2025-04-25 00:44:31.898 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/index.html - 200 null text/html;charset=utf-8 772.7071ms
2025-04-25 00:44:32.002 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 00:44:32.022 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 19.9185ms
2025-04-25 00:44:32.056 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_vs/browserLink - null null
2025-04-25 00:44:32.360 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_vs/browserLink - 200 null text/javascript; charset=UTF-8 303.9027ms
2025-04-25 00:44:32.484 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - null null
2025-04-25 00:44:32.756 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 271.8137ms
2025-04-25 00:47:22.116 -03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 00:47:22.656 -03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-04-25 00:47:22.687 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-04-25 00:47:22.696 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 00:47:22.709 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-04-25 00:47:23.422 -03:00 [INF] Configured endpoint MotorcycleNotification, Consumer: BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer
2025-04-25 00:47:23.617 -03:00 [INF] User profile is available. Using 'C:\Users\dtiDigital\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 00:47:23.708 -03:00 [INF] Delivery Processing Service is starting.
2025-04-25 00:47:24.351 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 00:47:24.468 -03:00 [INF] Bus started: "amazonsqs://us-east-1/"
2025-04-25 00:47:24.624 -03:00 [INF] Now listening on: http://localhost:5178
2025-04-25 00:47:24.822 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 00:47:24.824 -03:00 [INF] Hosting environment: Development
2025-04-25 00:47:24.825 -03:00 [INF] Content root path: C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api
2025-04-25 00:47:26.198 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/index.html - null null
2025-04-25 00:47:27.159 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/index.html - 200 null text/html;charset=utf-8 967.1725ms
2025-04-25 00:47:27.344 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 00:47:27.377 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 32.3987ms
2025-04-25 00:47:27.394 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_vs/browserLink - null null
2025-04-25 00:47:27.767 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_vs/browserLink - 200 null text/javascript; charset=UTF-8 373.0114ms
2025-04-25 00:47:28.571 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - null null
2025-04-25 00:47:28.623 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 51.9662ms
2025-04-25 00:48:02.936 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/Motorcycles - application/json; ver=1.0 74
2025-04-25 00:48:02.967 -03:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 00:48:03.212 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 00:48:03.253 -03:00 [INF] Route matched with {action = "Create", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.MotorcycleCreateDto) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 00:50:45.466 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api) in 162203.6942ms
2025-04-25 00:50:45.470 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 00:50:45.486 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-25 00:50:45.523 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/Motorcycles - 400 null application/problem+json; charset=utf-8; ver=1.0 162587.0221ms
2025-04-25 00:50:53.045 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/Motorcycles - application/json; ver=1.0 74
2025-04-25 00:50:53.058 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 00:50:53.061 -03:00 [INF] Route matched with {action = "Create", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.MotorcycleCreateDto) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 01:16:05.804 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api) in 1512731.7896ms
2025-04-25 01:16:05.809 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 01:16:05.813 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-25 01:16:05.816 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/Motorcycles - 400 null application/problem+json; charset=utf-8; ver=1.0 1512770.8936ms
2025-04-25 01:16:05.891 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 01:16:16.892 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/Motorcycles - application/json; ver=1.0 75
2025-04-25 01:16:16.903 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 01:16:16.906 -03:00 [INF] Route matched with {action = "Create", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.MotorcycleCreateDto) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 01:16:19.973 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api) in 3063.7451ms
2025-04-25 01:16:19.975 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 01:16:19.978 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-25 01:16:19.982 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/Motorcycles - 400 null application/problem+json; charset=utf-8; ver=1.0 3090.4881ms
2025-04-25 01:16:42.224 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/Motorcycles - application/json; ver=1.0 75
2025-04-25 01:16:42.236 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 01:16:42.239 -03:00 [INF] Route matched with {action = "Create", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.MotorcycleCreateDto) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 01:17:09.274 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api) in 27031.0566ms
2025-04-25 01:17:09.277 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 01:17:09.280 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-25 01:17:09.282 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/Motorcycles - 400 null application/problem+json; charset=utf-8; ver=1.0 27058.4291ms
2025-04-25 01:17:19.015 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/Motorcycles - application/json; ver=1.0 74
2025-04-25 01:17:19.022 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 01:17:19.025 -03:00 [INF] Route matched with {action = "Create", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.MotorcycleCreateDto) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 01:17:20.807 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__licensePlate_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Motorcycles" AS m
    WHERE m."LicensePlate" = @__licensePlate_0)
2025-04-25 01:17:20.986 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Motorcycles" ("Id", "CreatedAt", "LicensePlate", "Model", "UpdatedAt", "Year")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-25 01:17:21.216 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'BikeRental.Application.Models.MotorcycleDto'.
2025-04-25 01:17:21.260 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api) in 2232.5612ms
2025-04-25 01:17:21.263 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 01:17:21.273 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/Motorcycles - 201 null application/json; charset=utf-8; ver=1.0 2257.151ms
2025-04-25 01:21:05.966 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 01:23:22.406 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/Motorcycles - application/json; ver=1.0 74
2025-04-25 01:23:22.415 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 01:23:22.417 -03:00 [INF] Route matched with {action = "Create", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.MotorcycleCreateDto) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 01:23:26.857 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__licensePlate_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Motorcycles" AS m
    WHERE m."LicensePlate" = @__licensePlate_0)
2025-04-25 01:23:26.873 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Motorcycles" ("Id", "CreatedAt", "LicensePlate", "Model", "UpdatedAt", "Year")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-25 01:23:26.918 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'BikeRental.Application.Models.MotorcycleDto'.
2025-04-25 01:23:26.923 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api) in 4502.0509ms
2025-04-25 01:23:26.928 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 01:23:26.935 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/Motorcycles - 201 null application/json; charset=utf-8; ver=1.0 4527.7444ms
2025-04-25 01:26:05.991 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 01:28:34.075 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/Motorcycles - application/json; ver=1.0 74
2025-04-25 01:28:34.094 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 01:28:34.096 -03:00 [INF] Route matched with {action = "Create", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.MotorcycleCreateDto) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 01:28:49.929 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__licensePlate_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Motorcycles" AS m
    WHERE m."LicensePlate" = @__licensePlate_0)
2025-04-25 01:28:49.946 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Motorcycles" ("Id", "CreatedAt", "LicensePlate", "Model", "UpdatedAt", "Year")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-25 01:28:49.986 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'BikeRental.Application.Models.MotorcycleDto'.
2025-04-25 01:28:49.989 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api) in 15889.8423ms
2025-04-25 01:28:49.992 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 01:28:49.993 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/Motorcycles - 201 null application/json; charset=utf-8; ver=1.0 15921.0125ms
2025-04-25 01:28:50.071 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "IsRead", "Message", "NotificationDate", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-25 01:30:39.111 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/Motorcycles - application/json; ver=1.0 74
2025-04-25 01:30:39.117 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 01:30:39.120 -03:00 [INF] Route matched with {action = "Create", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.MotorcycleCreateDto) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 01:30:41.802 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__licensePlate_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Motorcycles" AS m
    WHERE m."LicensePlate" = @__licensePlate_0)
2025-04-25 01:30:41.815 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Motorcycles" ("Id", "CreatedAt", "LicensePlate", "Model", "UpdatedAt", "Year")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-25 01:30:41.844 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'BikeRental.Application.Models.MotorcycleDto'.
2025-04-25 01:30:41.847 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api) in 2723.7853ms
2025-04-25 01:30:41.848 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 01:30:41.850 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/Motorcycles - 201 null application/json; charset=utf-8; ver=1.0 2739.3144ms
2025-04-25 01:31:18.251 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "IsRead", "Message", "NotificationDate", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-25 01:31:18.304 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 01:31:18.309 -03:00 [WRN] R-DUPE "amazonsqs://us-east-1/MotorcycleNotification" 21f29f1f-3e95-4717-a51e-f7bee63ffad7 21f29f1f-3e95-4717-a51e-f7bee63ffad7
2025-04-25 01:31:39.353 -03:00 [ERR] Failed to extend message YWVlY2FkYjEtNGQxNC00ZDNkLWJhYzUtMmY1Mzg5MGQyM2NlIGFybjphd3M6c3FzOnVzLWVhc3QtMTowMDAwMDAwMDAwMDA6TW90b3JjeWNsZU5vdGlmaWNhdGlvbiAyMWYyOWYxZi0zZTk1LTQ3MTctYTUxZS1mN2JlZTYzZmZhZDcgMTc0NTU1NTQ3OC4yNDkzNzAz visibility to 30s ("00:00:21.0902006")
Amazon.SQS.AmazonSQSException: Value YWVlY2FkYjEtNGQxNC00ZDNkLWJhYzUtMmY1Mzg5MGQyM2NlIGFybjphd3M6c3FzOnVzLWVhc3QtMTowMDAwMDAwMDAwMDA6TW90b3JjeWNsZU5vdGlmaWNhdGlvbiAyMWYyOWYxZi0zZTk1LTQ3MTctYTUxZS1mN2JlZTYzZmZhZDcgMTc0NTU1NTQ3OC4yNDkzNzAz for parameter ReceiptHandle is invalid. Reason: Message does not exist or is not available for visibility timeout change.
 ---> Amazon.Runtime.Internal.HttpErrorResponseException: Exception of type 'Amazon.Runtime.Internal.HttpErrorResponseException' was thrown.
   at Amazon.Runtime.HttpWebRequestMessage.ProcessHttpResponseMessage(HttpResponseMessage responseMessage)
   at Amazon.Runtime.HttpWebRequestMessage.GetResponseAsync(CancellationToken cancellationToken)
   at Amazon.Runtime.Internal.HttpHandler`1.InvokeAsync[T](IExecutionContext executionContext)
   at Amazon.Runtime.Internal.Unmarshaller.InvokeAsync[T](IExecutionContext executionContext)
   at Amazon.SQS.Internal.ValidationResponseHandler.InvokeAsync[T](IExecutionContext executionContext)
   at Amazon.Runtime.Internal.ErrorHandler.InvokeAsync[T](IExecutionContext executionContext)
   --- End of inner exception stack trace ---
   at Amazon.Runtime.Internal.HttpErrorResponseExceptionHandler.HandleExceptionStream(IRequestContext requestContext, IWebResponseData httpErrorResponse, HttpErrorResponseException exception, Stream responseStream)
   at Amazon.Runtime.Internal.HttpErrorResponseExceptionHandler.HandleExceptionAsync(IExecutionContext executionContext, HttpErrorResponseException exception)
   at Amazon.Runtime.Internal.ExceptionHandler`1.HandleAsync(IExecutionContext executionContext, Exception exception)
   at Amazon.Runtime.Internal.ErrorHandler.ProcessExceptionAsync(IExecutionContext executionContext, Exception exception)
   at Amazon.Runtime.Internal.ErrorHandler.InvokeAsync[T](IExecutionContext executionContext)
   at Amazon.Runtime.Internal.CallbackHandler.InvokeAsync[T](IExecutionContext executionContext)
   at Amazon.Runtime.Internal.Signer.InvokeAsync[T](IExecutionContext executionContext)
   at Amazon.Runtime.Internal.EndpointDiscoveryHandler.InvokeAsync[T](IExecutionContext executionContext)
   at Amazon.Runtime.Internal.EndpointDiscoveryHandler.InvokeAsync[T](IExecutionContext executionContext)
   at Amazon.Runtime.Internal.CredentialsRetriever.InvokeAsync[T](IExecutionContext executionContext)
   at Amazon.Runtime.Internal.RetryHandler.InvokeAsync[T](IExecutionContext executionContext)
   at Amazon.Runtime.Internal.RetryHandler.InvokeAsync[T](IExecutionContext executionContext)
   at Amazon.Runtime.Internal.CallbackHandler.InvokeAsync[T](IExecutionContext executionContext)
   at Amazon.Runtime.Internal.CallbackHandler.InvokeAsync[T](IExecutionContext executionContext)
   at Amazon.Runtime.Internal.ErrorCallbackHandler.InvokeAsync[T](IExecutionContext executionContext)
   at Amazon.Runtime.Internal.MetricsHandler.InvokeAsync[T](IExecutionContext executionContext)
   at MassTransit.AmazonSqsTransport.AmazonSqsClientContext.ChangeMessageVisibility(String queueUrl, String receiptHandle, Int32 seconds) in /_/src/Transports/MassTransit.AmazonSqsTransport/AmazonSqsTransport/AmazonSqsClientContext.cs:line 177
   at MassTransit.AmazonSqsTransport.AmazonSqsReceiveLockContext.RenewMessageVisibility() in /_/src/Transports/MassTransit.AmazonSqsTransport/AmazonSqsTransport/AmazonSqsReceiveLockContext.cs:line 143
2025-04-25 01:36:18.350 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 01:41:18.398 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 01:46:18.450 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 01:51:18.471 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 01:56:18.511 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 02:01:18.537 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 02:06:18.578 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 02:07:42.431 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/index.html - null null
2025-04-25 02:07:42.447 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/index.html - 200 null text/html;charset=utf-8 15.8947ms
2025-04-25 02:07:42.474 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 02:07:42.475 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_vs/browserLink - null null
2025-04-25 02:07:42.478 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 4.5486ms
2025-04-25 02:07:42.508 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.4085ms
2025-04-25 02:07:42.668 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - null null
2025-04-25 02:07:42.709 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 41.1451ms
2025-04-25 02:08:25.029 -03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 02:08:25.437 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-04-25 02:08:25.458 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-04-25 02:08:25.465 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 02:08:25.473 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-04-25 02:08:26.126 -03:00 [INF] Configured endpoint MotorcycleNotification, Consumer: BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer
2025-04-25 02:08:26.302 -03:00 [INF] User profile is available. Using 'C:\Users\dtiDigital\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 02:08:26.388 -03:00 [INF] Delivery Processing Service is starting.
2025-04-25 02:08:26.809 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 02:08:26.970 -03:00 [INF] Bus started: "amazonsqs://us-east-1/"
2025-04-25 02:08:27.002 -03:00 [INF] Now listening on: http://localhost:5178
2025-04-25 02:08:27.154 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 02:08:27.156 -03:00 [INF] Hosting environment: Development
2025-04-25 02:08:27.157 -03:00 [INF] Content root path: C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api
2025-04-25 02:08:27.556 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/index.html - null null
2025-04-25 02:08:27.849 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/index.html - 200 null text/html;charset=utf-8 296.2861ms
2025-04-25 02:08:27.867 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 02:08:27.878 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 10.1851ms
2025-04-25 02:08:27.924 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_vs/browserLink - null null
2025-04-25 02:08:28.002 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_vs/browserLink - 200 null text/javascript; charset=UTF-8 78.0602ms
2025-04-25 02:08:28.342 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - null null
2025-04-25 02:08:28.373 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 51.8414ms
2025-04-25 02:13:26.932 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 02:18:26.956 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 08:47:13.201 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 09:45:49.069 -03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 09:46:09.178 -03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 09:47:00.372 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 09:57:49.944 -03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 09:57:50.076 -03:00 [INF] No migrations were found in assembly 'BikeRental.Infrastructure'. A migration needs to be added before the database can be updated.
2025-04-25 09:57:50.266 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-04-25 09:57:50.290 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-04-25 09:57:50.298 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 09:57:50.308 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-04-25 09:57:50.915 -03:00 [INF] Configured endpoint MotorcycleNotification, Consumer: BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer
2025-04-25 09:57:51.092 -03:00 [INF] User profile is available. Using 'C:\Users\dtiDigital\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 09:57:51.185 -03:00 [INF] Delivery Processing Service is starting.
2025-04-25 09:57:51.603 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 09:57:51.794 -03:00 [INF] Bus started: "amazonsqs://us-east-1/"
2025-04-25 09:57:51.800 -03:00 [INF] Now listening on: http://localhost:5178
2025-04-25 09:57:51.973 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 09:57:51.975 -03:00 [INF] Hosting environment: Development
2025-04-25 09:57:51.977 -03:00 [INF] Content root path: C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api
2025-04-25 09:57:52.365 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/index.html - null null
2025-04-25 09:57:52.633 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/index.html - 200 null text/html;charset=utf-8 274.1703ms
2025-04-25 09:57:52.656 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 09:57:52.673 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 17.309ms
2025-04-25 09:57:52.709 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_vs/browserLink - null null
2025-04-25 09:57:52.770 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.1238ms
2025-04-25 09:57:52.840 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - null null
2025-04-25 09:57:52.870 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 29.4443ms
2025-04-25 09:59:31.618 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - application/json; ver=1.0 347
2025-04-25 09:59:31.637 -03:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 09:59:31.828 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 09:59:31.857 -03:00 [INF] Route matched with {action = "Create", controller = "DeliveryPersons"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.DeliveryPersonCreateDto) on controller BikeRental.Api.Controllers.DeliveryPersonsController (BikeRental.Api).
2025-04-25 09:59:32.417 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'BikeRental.Application.Models.ErrorResponseDto'.
2025-04-25 09:59:32.432 -03:00 [INF] Executed action BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api) in 564.2283ms
2025-04-25 09:59:32.434 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 09:59:32.438 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - 400 null application/json; charset=utf-8; ver=1.0 819.71ms
2025-04-25 10:01:25.027 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - application/json; ver=1.0 336
2025-04-25 10:01:25.039 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 10:01:25.043 -03:00 [INF] Route matched with {action = "Create", controller = "DeliveryPersons"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.DeliveryPersonCreateDto) on controller BikeRental.Api.Controllers.DeliveryPersonsController (BikeRental.Api).
2025-04-25 10:01:25.235 -03:00 [ERR] Failed executing DbCommand (20ms) [Parameters=[@__cnpj_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "DeliveryPersons" AS d
    WHERE d."CNPJ" = @__cnpj_0)
2025-04-25 10:01:25.288 -03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'BikeRental.Infrastructure.Data.BikeRentalDbContext'.
Npgsql.PostgresException (0x80004005): 42P01: relation "DeliveryPersons" does not exist

POSITION: 41
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "DeliveryPersons" does not exist
    Position: 41
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
Npgsql.PostgresException (0x80004005): 42P01: relation "DeliveryPersons" does not exist

POSITION: 41
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "DeliveryPersons" does not exist
    Position: 41
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
2025-04-25 10:01:25.915 -03:00 [INF] Executed action BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api) in 867.2794ms
2025-04-25 10:01:25.919 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 10:01:25.930 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Npgsql.PostgresException (0x80004005): 42P01: relation "DeliveryPersons" does not exist

POSITION: 41
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BikeRental.Infrastructure.Repositories.DeliveryPersonRepository.CnpjExistsAsync(String cnpj) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Infrastructure\Repositories\DeliveryPersonRepository.cs:line 43
   at BikeRental.Application.Services.DeliveryPersonService.CreateDeliveryPersonAsync(DeliveryPersonCreateDto createDto) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Application\Services\DeliveryPersonService.cs:line 38
   at BikeRental.Api.Controllers.DeliveryPersonsController.Create(DeliveryPersonCreateDto createDto) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api\Controllers\DeliveryPersonsController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context) in C:\Users\User\Documents\Github\AspNetCoreRateLimit\src\AspNetCoreRateLimit\Middleware\RateLimitMiddleware.cs:line 124
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "DeliveryPersons" does not exist
    Position: 41
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
2025-04-25 10:01:25.982 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-25 10:01:26.012 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - 500 null application/problem+json; charset=utf-8; ver=1.0 985.4889ms
2025-04-25 10:02:51.719 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 10:03:26.355 -03:00 [INF] Application is shutting down...
2025-04-25 10:03:27.552 -03:00 [INF] Bus stopped: "amazonsqs://us-east-1/"
2025-04-25 10:03:39.341 -03:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 10:03:39.471 -03:00 [INF] No migrations were found in assembly 'BikeRental.Infrastructure'. A migration needs to be added before the database can be updated.
2025-04-25 10:03:39.654 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-04-25 10:03:39.676 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-04-25 10:03:39.684 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 10:03:39.693 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-04-25 10:03:40.261 -03:00 [INF] Configured endpoint MotorcycleNotification, Consumer: BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer
2025-04-25 10:03:40.439 -03:00 [INF] User profile is available. Using 'C:\Users\dtiDigital\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 10:03:40.537 -03:00 [INF] Delivery Processing Service is starting.
2025-04-25 10:03:40.920 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 10:03:41.075 -03:00 [INF] Now listening on: http://localhost:5178
2025-04-25 10:03:41.220 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 10:03:41.222 -03:00 [INF] Hosting environment: Development
2025-04-25 10:03:41.224 -03:00 [INF] Content root path: C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api
2025-04-25 10:03:41.648 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/index.html - null null
2025-04-25 10:03:41.942 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/index.html - 200 null text/html;charset=utf-8 298.5545ms
2025-04-25 10:03:41.969 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 10:03:41.983 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 14.4333ms
2025-04-25 10:03:42.032 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_vs/browserLink - null null
2025-04-25 10:03:42.102 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_vs/browserLink - 200 null text/javascript; charset=UTF-8 69.9185ms
2025-04-25 10:03:42.190 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - null null
2025-04-25 10:03:42.219 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.6858ms
2025-04-25 10:03:42.557 -03:00 [INF] Bus started: "amazonsqs://us-east-1/"
2025-04-25 10:04:20.624 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - application/json; ver=1.0 336
2025-04-25 10:04:20.646 -03:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 10:04:20.865 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 10:04:20.898 -03:00 [INF] Route matched with {action = "Create", controller = "DeliveryPersons"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.DeliveryPersonCreateDto) on controller BikeRental.Api.Controllers.DeliveryPersonsController (BikeRental.Api).
2025-04-25 10:04:21.220 -03:00 [ERR] Failed executing DbCommand (24ms) [Parameters=[@__cnpj_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "DeliveryPersons" AS d
    WHERE d."CNPJ" = @__cnpj_0)
2025-04-25 10:04:21.250 -03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'BikeRental.Infrastructure.Data.BikeRentalDbContext'.
Npgsql.PostgresException (0x80004005): 42P01: relation "DeliveryPersons" does not exist

POSITION: 41
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "DeliveryPersons" does not exist
    Position: 41
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
Npgsql.PostgresException (0x80004005): 42P01: relation "DeliveryPersons" does not exist

POSITION: 41
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "DeliveryPersons" does not exist
    Position: 41
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
2025-04-25 10:04:21.868 -03:00 [INF] Executed action BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api) in 961.3516ms
2025-04-25 10:04:21.872 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 10:04:21.884 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Npgsql.PostgresException (0x80004005): 42P01: relation "DeliveryPersons" does not exist

POSITION: 41
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BikeRental.Infrastructure.Repositories.DeliveryPersonRepository.CnpjExistsAsync(String cnpj) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Infrastructure\Repositories\DeliveryPersonRepository.cs:line 43
   at BikeRental.Application.Services.DeliveryPersonService.CreateDeliveryPersonAsync(DeliveryPersonCreateDto createDto) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Application\Services\DeliveryPersonService.cs:line 38
   at BikeRental.Api.Controllers.DeliveryPersonsController.Create(DeliveryPersonCreateDto createDto) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api\Controllers\DeliveryPersonsController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context) in C:\Users\User\Documents\Github\AspNetCoreRateLimit\src\AspNetCoreRateLimit\Middleware\RateLimitMiddleware.cs:line 124
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "DeliveryPersons" does not exist
    Position: 41
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
2025-04-25 10:04:21.960 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-25 10:04:22.000 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - 500 null application/problem+json; charset=utf-8; ver=1.0 1376.0689ms
2025-04-25 10:08:40.975 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 10:31:21.889 -03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 10:31:22.339 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-04-25 10:31:22.365 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-04-25 10:31:22.372 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 10:31:22.382 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-04-25 10:31:23.084 -03:00 [INF] Configured endpoint MotorcycleNotification, Consumer: BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer
2025-04-25 10:31:23.316 -03:00 [INF] User profile is available. Using 'C:\Users\dtiDigital\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 10:31:23.427 -03:00 [INF] Delivery Processing Service is starting.
2025-04-25 10:31:23.927 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 10:31:24.164 -03:00 [INF] Now listening on: http://localhost:5178
2025-04-25 10:31:25.068 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 10:31:25.075 -03:00 [INF] Hosting environment: Development
2025-04-25 10:31:25.077 -03:00 [INF] Content root path: C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api
2025-04-25 10:31:25.200 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/index.html - null null
2025-04-25 10:31:26.025 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/index.html - 200 null text/html;charset=utf-8 826.4258ms
2025-04-25 10:31:26.101 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 10:31:26.221 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 119.7251ms
2025-04-25 10:31:26.545 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_vs/browserLink - null null
2025-04-25 10:31:27.260 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_vs/browserLink - 200 null text/javascript; charset=UTF-8 715.057ms
2025-04-25 10:31:27.462 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - null null
2025-04-25 10:31:27.662 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 199.6468ms
2025-04-25 10:31:28.616 -03:00 [INF] Bus started: "amazonsqs://us-east-1/"
2025-04-25 10:31:49.747 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - application/json; ver=1.0 336
2025-04-25 10:31:49.769 -03:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 10:31:49.981 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 10:31:50.013 -03:00 [INF] Route matched with {action = "Create", controller = "DeliveryPersons"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.DeliveryPersonCreateDto) on controller BikeRental.Api.Controllers.DeliveryPersonsController (BikeRental.Api).
2025-04-25 10:31:50.298 -03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__cnpj_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "DeliveryPersons" AS d
    WHERE d."CNPJ" = @__cnpj_0)
2025-04-25 10:31:50.322 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__driverLicenseNumber_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "DeliveryPersons" AS d
    WHERE d."DriverLicenseNumber" = @__driverLicenseNumber_0)
2025-04-25 10:31:50.540 -03:00 [ERR] Failed executing DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DeliveryPersons" ("Id", "BirthDate", "CNPJ", "CreatedAt", "DriverLicenseImageUrl", "DriverLicenseNumber", "DriverLicenseType", "Name", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-04-25 10:31:50.559 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'BikeRental.Infrastructure.Data.BikeRentalDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=Unspecified to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=Unspecified to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-25 10:31:51.028 -03:00 [INF] Executed action BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api) in 1004.1134ms
2025-04-25 10:31:51.031 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 10:31:51.048 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=Unspecified to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BikeRental.Infrastructure.Data.BikeRentalDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Infrastructure\Data\BikeRentalDbContext.cs:line 161
   at BikeRental.Infrastructure.Repositories.DeliveryPersonRepository.AddAsync(DeliveryPerson deliveryPerson) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Infrastructure\Repositories\DeliveryPersonRepository.cs:line 26
   at BikeRental.Application.Services.DeliveryPersonService.CreateDeliveryPersonAsync(DeliveryPersonCreateDto createDto) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Application\Services\DeliveryPersonService.cs:line 75
   at BikeRental.Api.Controllers.DeliveryPersonsController.Create(DeliveryPersonCreateDto createDto) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api\Controllers\DeliveryPersonsController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context) in C:\Users\User\Documents\Github\AspNetCoreRateLimit\src\AspNetCoreRateLimit\Middleware\RateLimitMiddleware.cs:line 124
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-04-25 10:31:51.126 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-25 10:31:51.185 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - 500 null application/problem+json; charset=utf-8; ver=1.0 1437.6979ms
2025-04-25 10:40:48.756 -03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 10:40:49.158 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-04-25 10:40:49.180 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-04-25 10:40:49.188 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 10:40:49.197 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-04-25 10:40:49.798 -03:00 [INF] Configured endpoint MotorcycleNotification, Consumer: BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer
2025-04-25 10:40:49.965 -03:00 [INF] User profile is available. Using 'C:\Users\dtiDigital\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 10:40:50.052 -03:00 [INF] Delivery Processing Service is starting.
2025-04-25 10:40:50.465 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 10:40:50.536 -03:00 [INF] Bus started: "amazonsqs://us-east-1/"
2025-04-25 10:40:50.632 -03:00 [INF] Now listening on: http://localhost:5178
2025-04-25 10:40:50.784 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 10:40:50.786 -03:00 [INF] Hosting environment: Development
2025-04-25 10:40:50.789 -03:00 [INF] Content root path: C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api
2025-04-25 10:40:51.225 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/index.html - null null
2025-04-25 10:40:51.475 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/index.html - 200 null text/html;charset=utf-8 254.3075ms
2025-04-25 10:40:51.491 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 10:40:51.503 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 11.0573ms
2025-04-25 10:40:51.548 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_vs/browserLink - null null
2025-04-25 10:40:51.609 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.9192ms
2025-04-25 10:40:51.679 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - null null
2025-04-25 10:40:51.701 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 21.7094ms
2025-04-25 10:41:43.189 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - application/json; ver=1.0 336
2025-04-25 10:41:43.206 -03:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 10:41:43.379 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 10:41:43.408 -03:00 [INF] Route matched with {action = "Create", controller = "DeliveryPersons"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.DeliveryPersonCreateDto) on controller BikeRental.Api.Controllers.DeliveryPersonsController (BikeRental.Api).
2025-04-25 10:41:43.656 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__cnpj_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "DeliveryPersons" AS d
    WHERE d."CNPJ" = @__cnpj_0)
2025-04-25 10:41:43.679 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__driverLicenseNumber_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "DeliveryPersons" AS d
    WHERE d."DriverLicenseNumber" = @__driverLicenseNumber_0)
2025-04-25 10:41:43.869 -03:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?', @p3='?' (DbType = DateTime2), @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DeliveryPersons" ("Id", "BirthDate", "CNPJ", "CreatedAt", "DriverLicenseImageUrl", "DriverLicenseNumber", "DriverLicenseType", "Name", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-04-25 10:41:43.917 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'BikeRental.Infrastructure.Data.BikeRentalDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-25 10:41:44.653 -03:00 [INF] Executed action BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api) in 1235.8454ms
2025-04-25 10:41:44.656 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 10:41:44.670 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BikeRental.Infrastructure.Data.BikeRentalDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Infrastructure\Data\BikeRentalDbContext.cs:line 180
   at BikeRental.Infrastructure.Repositories.DeliveryPersonRepository.AddAsync(DeliveryPerson deliveryPerson) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Infrastructure\Repositories\DeliveryPersonRepository.cs:line 26
   at BikeRental.Application.Services.DeliveryPersonService.CreateDeliveryPersonAsync(DeliveryPersonCreateDto createDto) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Application\Services\DeliveryPersonService.cs:line 75
   at BikeRental.Api.Controllers.DeliveryPersonsController.Create(DeliveryPersonCreateDto createDto) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api\Controllers\DeliveryPersonsController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context) in C:\Users\User\Documents\Github\AspNetCoreRateLimit\src\AspNetCoreRateLimit\Middleware\RateLimitMiddleware.cs:line 124
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-04-25 10:41:44.731 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-25 10:41:44.783 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - 500 null application/problem+json; charset=utf-8; ver=1.0 1594.2904ms
2025-04-25 10:45:26.576 -03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 10:45:26.969 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-04-25 10:45:26.991 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-04-25 10:45:26.998 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 10:45:27.009 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-04-25 10:45:27.559 -03:00 [INF] Configured endpoint MotorcycleNotification, Consumer: BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer
2025-04-25 10:45:27.729 -03:00 [INF] User profile is available. Using 'C:\Users\dtiDigital\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 10:45:27.821 -03:00 [INF] Delivery Processing Service is starting.
2025-04-25 10:45:28.221 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 10:45:28.289 -03:00 [INF] Bus started: "amazonsqs://us-east-1/"
2025-04-25 10:45:28.422 -03:00 [INF] Now listening on: http://localhost:5178
2025-04-25 10:45:28.571 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 10:45:28.573 -03:00 [INF] Hosting environment: Development
2025-04-25 10:45:28.575 -03:00 [INF] Content root path: C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api
2025-04-25 10:45:28.929 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/index.html - null null
2025-04-25 10:45:29.161 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/index.html - 200 null text/html;charset=utf-8 236.458ms
2025-04-25 10:45:29.190 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 10:45:29.199 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 9.0135ms
2025-04-25 10:45:29.235 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_vs/browserLink - null null
2025-04-25 10:45:29.285 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.1468ms
2025-04-25 10:45:29.350 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - null null
2025-04-25 10:45:29.377 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 26.8093ms
2025-04-25 10:45:48.744 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - application/json; ver=1.0 336
2025-04-25 10:45:48.763 -03:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 10:45:48.938 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 10:45:48.977 -03:00 [INF] Route matched with {action = "Create", controller = "DeliveryPersons"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.DeliveryPersonCreateDto) on controller BikeRental.Api.Controllers.DeliveryPersonsController (BikeRental.Api).
2025-04-25 10:45:49.282 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__cnpj_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "DeliveryPersons" AS d
    WHERE d."CNPJ" = @__cnpj_0)
2025-04-25 10:45:49.302 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__driverLicenseNumber_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "DeliveryPersons" AS d
    WHERE d."DriverLicenseNumber" = @__driverLicenseNumber_0)
2025-04-25 10:45:49.560 -03:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?', @p3='?' (DbType = DateTime2), @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DeliveryPersons" ("Id", "BirthDate", "CNPJ", "CreatedAt", "DriverLicenseImageUrl", "DriverLicenseNumber", "DriverLicenseType", "Name", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-04-25 10:45:49.621 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'BikeRental.Infrastructure.Data.BikeRentalDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-25 10:45:50.109 -03:00 [INF] Executed action BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api) in 1121.3772ms
2025-04-25 10:45:50.113 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 10:45:50.127 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BikeRental.Infrastructure.Data.BikeRentalDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Infrastructure\Data\BikeRentalDbContext.cs:line 180
   at BikeRental.Infrastructure.Repositories.DeliveryPersonRepository.AddAsync(DeliveryPerson deliveryPerson) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Infrastructure\Repositories\DeliveryPersonRepository.cs:line 26
   at BikeRental.Application.Services.DeliveryPersonService.CreateDeliveryPersonAsync(DeliveryPersonCreateDto createDto) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Application\Services\DeliveryPersonService.cs:line 75
   at BikeRental.Api.Controllers.DeliveryPersonsController.Create(DeliveryPersonCreateDto createDto) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api\Controllers\DeliveryPersonsController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context) in C:\Users\User\Documents\Github\AspNetCoreRateLimit\src\AspNetCoreRateLimit\Middleware\RateLimitMiddleware.cs:line 124
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-04-25 10:45:50.185 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-25 10:45:50.237 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - 500 null application/problem+json; charset=utf-8; ver=1.0 1493.2691ms
2025-04-25 10:48:28.932 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/api/motorcycles - null null
2025-04-25 10:48:28.946 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api)'
2025-04-25 10:48:28.955 -03:00 [INF] Route matched with {action = "GetAll", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 10:48:31.724 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
2025-04-25 10:48:31.762 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[BikeRental.Domain.Entities.Motorcycle, BikeRental.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BikeRental.Application.Models.MotorcycleDto, BikeRental.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 10:48:31.776 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api) in 2817.6024ms
2025-04-25 10:48:31.779 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api)'
2025-04-25 10:48:31.781 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/api/motorcycles - 200 null application/json; charset=utf-8; ver=1.0 2849.5367ms
2025-04-25 10:48:58.232 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/motorcycles - application/json; ver=1.0 74
2025-04-25 10:48:58.242 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 10:48:58.249 -03:00 [INF] Route matched with {action = "Create", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.MotorcycleCreateDto) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 10:49:00.820 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__licensePlate_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Motorcycles" AS m
    WHERE m."LicensePlate" = @__licensePlate_0)
2025-04-25 10:49:00.839 -03:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?', @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Motorcycles" ("Id", "CreatedAt", "LicensePlate", "Model", "UpdatedAt", "Year")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-25 10:49:00.847 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'BikeRental.Infrastructure.Data.BikeRentalDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-25 10:49:01.375 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api) in 3121.8556ms
2025-04-25 10:49:01.378 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 10:49:01.382 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BikeRental.Infrastructure.Data.BikeRentalDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Infrastructure\Data\BikeRentalDbContext.cs:line 180
   at BikeRental.Infrastructure.Repositories.MotorcycleRepository.AddAsync(Motorcycle motorcycle) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Infrastructure\Repositories\MotorcycleRepository .cs:line 20
   at BikeRental.Application.Services.MotorcycleService.CreateMotorcycleAsync(MotorcycleCreateDto createDto) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Application\Services\MotorcycleService.cs:line 44
   at BikeRental.Api.Controllers.MotorcyclesController.Create(MotorcycleCreateDto createDto) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api\Controllers\MotorcyclesController.cs:line 42
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context) in C:\Users\User\Documents\Github\AspNetCoreRateLimit\src\AspNetCoreRateLimit\Middleware\RateLimitMiddleware.cs:line 124
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-04-25 10:49:01.407 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-25 10:49:01.410 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/motorcycles - 500 null application/problem+json; charset=utf-8; ver=1.0 3177.6382ms
2025-04-25 10:50:28.260 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 10:53:29.527 -03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 10:53:29.922 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-04-25 10:53:29.942 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-04-25 10:53:29.951 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 10:53:29.960 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-04-25 10:53:30.536 -03:00 [INF] Configured endpoint MotorcycleNotification, Consumer: BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer
2025-04-25 10:53:30.696 -03:00 [INF] User profile is available. Using 'C:\Users\dtiDigital\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 10:53:30.785 -03:00 [INF] Delivery Processing Service is starting.
2025-04-25 10:53:31.187 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 10:53:31.255 -03:00 [INF] Bus started: "amazonsqs://us-east-1/"
2025-04-25 10:53:31.347 -03:00 [INF] Now listening on: http://localhost:5178
2025-04-25 10:53:31.485 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 10:53:31.487 -03:00 [INF] Hosting environment: Development
2025-04-25 10:53:31.489 -03:00 [INF] Content root path: C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api
2025-04-25 10:53:32.002 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/index.html - null null
2025-04-25 10:53:32.229 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/index.html - 200 null text/html;charset=utf-8 230.9002ms
2025-04-25 10:53:32.255 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 10:53:32.263 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 7.8083ms
2025-04-25 10:53:32.290 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_vs/browserLink - null null
2025-04-25 10:53:32.337 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.7337ms
2025-04-25 10:53:32.405 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - null null
2025-04-25 10:53:32.430 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.1557ms
2025-04-25 10:53:55.708 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - application/json; ver=1.0 347
2025-04-25 10:53:55.732 -03:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 10:53:55.888 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 10:53:55.935 -03:00 [INF] Route matched with {action = "Create", controller = "DeliveryPersons"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.DeliveryPersonCreateDto) on controller BikeRental.Api.Controllers.DeliveryPersonsController (BikeRental.Api).
2025-04-25 10:53:56.459 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'BikeRental.Application.Models.ErrorResponseDto'.
2025-04-25 10:53:56.473 -03:00 [INF] Executed action BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api) in 528.226ms
2025-04-25 10:53:56.476 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 10:53:56.480 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - 400 null application/json; charset=utf-8; ver=1.0 772.4808ms
2025-04-25 10:54:13.230 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - application/json; ver=1.0 336
2025-04-25 10:54:13.242 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 10:54:13.245 -03:00 [INF] Route matched with {action = "Create", controller = "DeliveryPersons"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.DeliveryPersonCreateDto) on controller BikeRental.Api.Controllers.DeliveryPersonsController (BikeRental.Api).
2025-04-25 10:54:13.387 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__cnpj_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "DeliveryPersons" AS d
    WHERE d."CNPJ" = @__cnpj_0)
2025-04-25 10:54:13.407 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__driverLicenseNumber_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "DeliveryPersons" AS d
    WHERE d."DriverLicenseNumber" = @__driverLicenseNumber_0)
2025-04-25 10:54:13.585 -03:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?', @p3='?' (DbType = DateTime2), @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DeliveryPersons" ("Id", "BirthDate", "CNPJ", "CreatedAt", "DriverLicenseImageUrl", "DriverLicenseNumber", "DriverLicenseType", "Name", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-04-25 10:54:13.635 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'BikeRental.Infrastructure.Data.BikeRentalDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-25 10:54:14.001 -03:00 [INF] Executed action BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api) in 752.4208ms
2025-04-25 10:54:14.005 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 10:54:14.023 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BikeRental.Infrastructure.Data.BikeRentalDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Infrastructure\Data\BikeRentalDbContext.cs:line 180
   at BikeRental.Infrastructure.Repositories.DeliveryPersonRepository.AddAsync(DeliveryPerson deliveryPerson) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Infrastructure\Repositories\DeliveryPersonRepository.cs:line 26
   at BikeRental.Application.Services.DeliveryPersonService.CreateDeliveryPersonAsync(DeliveryPersonCreateDto createDto) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Application\Services\DeliveryPersonService.cs:line 75
   at BikeRental.Api.Controllers.DeliveryPersonsController.Create(DeliveryPersonCreateDto createDto) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api\Controllers\DeliveryPersonsController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context) in C:\Users\User\Documents\Github\AspNetCoreRateLimit\src\AspNetCoreRateLimit\Middleware\RateLimitMiddleware.cs:line 124
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-04-25 10:54:14.088 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-25 10:54:14.131 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - 500 null application/problem+json; charset=utf-8; ver=1.0 900.4467ms
2025-04-25 10:58:31.254 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 11:02:06.384 -03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 11:02:06.883 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-04-25 11:02:06.906 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-04-25 11:02:06.915 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 11:02:06.925 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-04-25 11:02:07.605 -03:00 [INF] Configured endpoint MotorcycleNotification, Consumer: BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer
2025-04-25 11:02:07.809 -03:00 [INF] User profile is available. Using 'C:\Users\dtiDigital\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 11:02:07.925 -03:00 [INF] Delivery Processing Service is starting.
2025-04-25 11:02:08.501 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 11:02:08.580 -03:00 [INF] Bus started: "amazonsqs://us-east-1/"
2025-04-25 11:02:08.739 -03:00 [INF] Now listening on: http://localhost:5178
2025-04-25 11:02:08.933 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 11:02:08.935 -03:00 [INF] Hosting environment: Development
2025-04-25 11:02:08.937 -03:00 [INF] Content root path: C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api
2025-04-25 11:02:09.446 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/index.html - null null
2025-04-25 11:02:09.733 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/index.html - 200 null text/html;charset=utf-8 292.3811ms
2025-04-25 11:02:09.778 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 11:02:09.801 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 23.2968ms
2025-04-25 11:02:09.846 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_vs/browserLink - null null
2025-04-25 11:02:09.905 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_vs/browserLink - 200 null text/javascript; charset=UTF-8 58.3142ms
2025-04-25 11:02:09.988 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - null null
2025-04-25 11:02:10.027 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 39.5973ms
2025-04-25 11:02:29.039 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - application/json; ver=1.0 347
2025-04-25 11:02:29.068 -03:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 11:02:29.263 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 11:02:29.290 -03:00 [INF] Route matched with {action = "Create", controller = "DeliveryPersons"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.DeliveryPersonCreateDto) on controller BikeRental.Api.Controllers.DeliveryPersonsController (BikeRental.Api).
2025-04-25 11:02:29.858 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'BikeRental.Application.Models.ErrorResponseDto'.
2025-04-25 11:02:29.874 -03:00 [INF] Executed action BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api) in 574.636ms
2025-04-25 11:02:29.876 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 11:02:29.880 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - 400 null application/json; charset=utf-8; ver=1.0 840.3841ms
2025-04-25 11:02:44.415 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - application/json; ver=1.0 336
2025-04-25 11:02:44.429 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 11:02:44.432 -03:00 [INF] Route matched with {action = "Create", controller = "DeliveryPersons"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.DeliveryPersonCreateDto) on controller BikeRental.Api.Controllers.DeliveryPersonsController (BikeRental.Api).
2025-04-25 11:02:44.572 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__cnpj_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "DeliveryPersons" AS d
    WHERE d."CNPJ" = @__cnpj_0)
2025-04-25 11:02:44.592 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__driverLicenseNumber_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "DeliveryPersons" AS d
    WHERE d."DriverLicenseNumber" = @__driverLicenseNumber_0)
2025-04-25 11:02:44.776 -03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?', @p3='?' (DbType = DateTime2), @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DeliveryPersons" ("Id", "BirthDate", "CNPJ", "CreatedAt", "DriverLicenseImageUrl", "DriverLicenseNumber", "DriverLicenseType", "Name", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-04-25 11:02:44.796 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'BikeRental.Application.Models.DeliveryPersonDto'.
2025-04-25 11:02:44.821 -03:00 [INF] Executed action BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api) in 385.6964ms
2025-04-25 11:02:44.826 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 11:02:44.833 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - 201 null application/json; charset=utf-8; ver=1.0 417.5986ms
2025-04-25 11:05:12.959 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/api/DeliveryPersons/3fa85f64-5717-4562-b3fc-2c963f66afa6 - null null
2025-04-25 11:05:12.971 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.GetById (BikeRental.Api)'
2025-04-25 11:05:12.979 -03:00 [INF] Route matched with {action = "GetById", controller = "DeliveryPersons"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.String) on controller BikeRental.Api.Controllers.DeliveryPersonsController (BikeRental.Api).
2025-04-25 11:05:13.091 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."BirthDate", d."CNPJ", d."CreatedAt", d."DriverLicenseImageUrl", d."DriverLicenseNumber", d."DriverLicenseType", d."Name", d."UpdatedAt"
FROM "DeliveryPersons" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-04-25 11:05:13.106 -03:00 [INF] Executing OkObjectResult, writing value of type 'BikeRental.Application.Models.DeliveryPersonDto'.
2025-04-25 11:05:13.109 -03:00 [INF] Executed action BikeRental.Api.Controllers.DeliveryPersonsController.GetById (BikeRental.Api) in 124.1797ms
2025-04-25 11:05:13.111 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.GetById (BikeRental.Api)'
2025-04-25 11:05:13.112 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/api/DeliveryPersons/3fa85f64-5717-4562-b3fc-2c963f66afa6 - 200 null application/json; charset=utf-8; ver=1.0 153.1076ms
2025-04-25 11:06:09.898 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons/3fa85f64-5717-4562-b3fc-2c963f66afa6/driver-license-image - application/json; ver=1.0 148
2025-04-25 11:06:09.912 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.UpdateDriverLicenseImage (BikeRental.Api)'
2025-04-25 11:06:09.921 -03:00 [INF] Route matched with {action = "UpdateDriverLicenseImage", controller = "DeliveryPersons"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDriverLicenseImage(System.String, BikeRental.Application.Models.DriverLicenseImageDto) on controller BikeRental.Api.Controllers.DeliveryPersonsController (BikeRental.Api).
2025-04-25 11:06:10.432 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'BikeRental.Application.Models.ErrorResponseDto'.
2025-04-25 11:06:10.436 -03:00 [INF] Executed action BikeRental.Api.Controllers.DeliveryPersonsController.UpdateDriverLicenseImage (BikeRental.Api) in 510.4862ms
2025-04-25 11:06:10.439 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.UpdateDriverLicenseImage (BikeRental.Api)'
2025-04-25 11:06:10.441 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons/3fa85f64-5717-4562-b3fc-2c963f66afa6/driver-license-image - 400 null application/json; charset=utf-8; ver=1.0 543.1286ms
2025-04-25 11:07:08.555 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 11:08:13.346 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/motorcycles - application/json; ver=1.0 74
2025-04-25 11:08:13.352 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 11:08:13.359 -03:00 [INF] Route matched with {action = "Create", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.MotorcycleCreateDto) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 11:08:15.233 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__licensePlate_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Motorcycles" AS m
    WHERE m."LicensePlate" = @__licensePlate_0)
2025-04-25 11:08:15.272 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?', @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Motorcycles" ("Id", "CreatedAt", "LicensePlate", "Model", "UpdatedAt", "Year")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-25 11:08:15.487 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'BikeRental.Application.Models.MotorcycleDto'.
2025-04-25 11:08:15.492 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api) in 2130.2979ms
2025-04-25 11:08:15.495 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 11:08:15.497 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/motorcycles - 201 null application/json; charset=utf-8; ver=1.0 2150.9815ms
2025-04-25 11:08:15.675 -03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "IsRead", "Message", "NotificationDate", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-25 11:08:15.782 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'BikeRental.Infrastructure.Data.BikeRentalDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-25 11:08:16.201 -03:00 [ERR] R-FAULT "amazonsqs://us-east-1/MotorcycleNotification" "d4820000-5af2-3473-279a-08dd84029f41" BikeRental.Domain.Events.MotorcycleRegisteredEvent BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer("00:00:00.4006353")
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BikeRental.Infrastructure.Data.BikeRentalDbContext.SaveChangesAsync(CancellationToken cancellationToken)
   at BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer.Consume(ConsumeContext`1 context)
   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22
   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22
   at MassTransit.Middleware.ConsumerMessageFilter`2.MassTransit.IFilter<MassTransit.ConsumeContext<TMessage>>.Send(ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/Middleware/ConsumerMessageFilter.cs:line 48
2025-04-25 11:08:16.362 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/index.html - null null
2025-04-25 11:08:16.387 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/index.html - 200 null text/html;charset=utf-8 25.5202ms
2025-04-25 11:08:16.414 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 11:08:16.414 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_vs/browserLink - null null
2025-04-25 11:08:16.432 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 17.7357ms
2025-04-25 11:08:16.500 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_vs/browserLink - 200 null text/javascript; charset=UTF-8 85.9817ms
2025-04-25 11:08:16.587 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - null null
2025-04-25 11:08:16.631 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 44.0719ms
2025-04-25 11:08:41.323 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/motorcycles - application/json; ver=1.0 74
2025-04-25 11:08:41.329 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 11:08:41.336 -03:00 [INF] Route matched with {action = "Create", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.MotorcycleCreateDto) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 11:08:44.133 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__licensePlate_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Motorcycles" AS m
    WHERE m."LicensePlate" = @__licensePlate_0)
2025-04-25 11:08:44.148 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?', @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Motorcycles" ("Id", "CreatedAt", "LicensePlate", "Model", "UpdatedAt", "Year")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-25 11:08:44.176 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'BikeRental.Application.Models.MotorcycleDto'.
2025-04-25 11:08:44.181 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api) in 2841.0018ms
2025-04-25 11:08:44.183 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 11:08:44.187 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/motorcycles - 201 null application/json; charset=utf-8; ver=1.0 2863.4937ms
2025-04-25 11:08:44.199 -03:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "IsRead", "Message", "NotificationDate", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-25 11:08:44.207 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'BikeRental.Infrastructure.Data.BikeRentalDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-25 11:08:44.446 -03:00 [ERR] R-FAULT "amazonsqs://us-east-1/MotorcycleNotification" "d4820000-5af2-3473-a7cd-08dd8402b071" BikeRental.Domain.Events.MotorcycleRegisteredEvent BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer("00:00:00.2048534")
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BikeRental.Infrastructure.Data.BikeRentalDbContext.SaveChangesAsync(CancellationToken cancellationToken)
   at BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer.Consume(ConsumeContext`1 context)
   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22
   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22
   at MassTransit.Middleware.ConsumerMessageFilter`2.MassTransit.IFilter<MassTransit.ConsumeContext<TMessage>>.Send(ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/Middleware/ConsumerMessageFilter.cs:line 48
2025-04-25 11:11:26.049 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/motorcycles - application/json; ver=1.0 74
2025-04-25 11:11:26.063 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 11:11:26.066 -03:00 [INF] Route matched with {action = "Create", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.MotorcycleCreateDto) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 11:11:26.081 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__licensePlate_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Motorcycles" AS m
    WHERE m."LicensePlate" = @__licensePlate_0)
2025-04-25 11:11:26.093 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?', @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Motorcycles" ("Id", "CreatedAt", "LicensePlate", "Model", "UpdatedAt", "Year")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-25 11:11:26.121 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'BikeRental.Application.Models.MotorcycleDto'.
2025-04-25 11:11:26.125 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api) in 54.781ms
2025-04-25 11:11:26.127 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 11:11:26.129 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/motorcycles - 201 null application/json; charset=utf-8; ver=1.0 80.1308ms
2025-04-25 11:11:46.524 -03:00 [ERR] Failed executing DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "IsRead", "Message", "NotificationDate", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-25 11:11:46.531 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'BikeRental.Infrastructure.Data.BikeRentalDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-25 11:11:46.719 -03:00 [ERR] R-FAULT "amazonsqs://us-east-1/MotorcycleNotification" "d4820000-5af2-3473-978d-08dd840310f8" BikeRental.Domain.Events.MotorcycleRegisteredEvent BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer("00:00:20.5533998")
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BikeRental.Infrastructure.Data.BikeRentalDbContext.SaveChangesAsync(CancellationToken cancellationToken)
   at BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer.Consume(ConsumeContext`1 context)
   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22
   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22
   at MassTransit.Middleware.ConsumerMessageFilter`2.MassTransit.IFilter<MassTransit.ConsumeContext<TMessage>>.Send(ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/Middleware/ConsumerMessageFilter.cs:line 48
2025-04-25 11:12:08.571 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 11:17:08.607 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 11:47:52.944 -03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 11:47:53.520 -03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-04-25 11:47:53.552 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-04-25 11:47:53.564 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 11:47:53.577 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-04-25 11:47:54.536 -03:00 [INF] Configured endpoint MotorcycleNotification, Consumer: BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer
2025-04-25 11:47:54.821 -03:00 [INF] User profile is available. Using 'C:\Users\dtiDigital\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 11:47:54.994 -03:00 [INF] Delivery Processing Service is starting.
2025-04-25 11:47:55.648 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 11:47:55.959 -03:00 [INF] Now listening on: http://localhost:5178
2025-04-25 11:47:56.280 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 11:47:56.283 -03:00 [INF] Hosting environment: Development
2025-04-25 11:47:56.285 -03:00 [INF] Content root path: C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api
2025-04-25 11:47:57.278 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/index.html - null null
2025-04-25 11:47:57.799 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/index.html - 200 null text/html;charset=utf-8 526.4555ms
2025-04-25 11:47:57.858 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 11:47:57.909 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 50.1196ms
2025-04-25 11:47:57.991 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_vs/browserLink - null null
2025-04-25 11:47:58.250 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_vs/browserLink - 200 null text/javascript; charset=UTF-8 258.3092ms
2025-04-25 11:47:58.822 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - null null
2025-04-25 11:47:59.154 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 332.3188ms
2025-04-25 11:48:00.171 -03:00 [INF] Bus started: "amazonsqs://us-east-1/"
2025-04-25 11:49:01.507 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/Rentals - application/json; ver=1.0 307
2025-04-25 11:49:01.533 -03:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 11:49:01.865 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.RentalsController.Create (BikeRental.Api)'
2025-04-25 11:49:01.930 -03:00 [INF] Route matched with {action = "Create", controller = "Rentals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.RentalDto) on controller BikeRental.Api.Controllers.RentalsController (BikeRental.Api).
2025-04-25 11:49:01.949 -03:00 [INF] Executed action BikeRental.Api.Controllers.RentalsController.Create (BikeRental.Api) in 4.9547ms
2025-04-25 11:49:01.954 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.RentalsController.Create (BikeRental.Api)'
2025-04-25 11:49:01.983 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-25 11:49:02.039 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/Rentals - 400 null application/problem+json; charset=utf-8 532.2512ms
2025-04-25 11:49:32.201 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/index.html - null null
2025-04-25 11:49:32.221 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/index.html - 200 null text/html;charset=utf-8 20.0192ms
2025-04-25 11:49:32.272 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 11:49:32.275 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_vs/browserLink - null null
2025-04-25 11:49:32.281 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 8.117ms
2025-04-25 11:49:32.318 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.8561ms
2025-04-25 11:49:32.475 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - null null
2025-04-25 11:49:32.513 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 38.1755ms
2025-04-25 12:04:05.171 -03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 12:04:05.676 -03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-04-25 12:04:05.704 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-04-25 12:04:05.715 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 12:04:05.733 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-04-25 12:04:06.527 -03:00 [INF] Configured endpoint MotorcycleNotification, Consumer: BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer
2025-04-25 12:04:06.741 -03:00 [INF] User profile is available. Using 'C:\Users\dtiDigital\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 12:04:06.859 -03:00 [INF] Delivery Processing Service is starting.
2025-04-25 12:04:07.434 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 12:04:07.548 -03:00 [INF] Bus started: "amazonsqs://us-east-1/"
2025-04-25 12:04:07.692 -03:00 [INF] Now listening on: http://localhost:5178
2025-04-25 12:04:08.182 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 12:04:08.183 -03:00 [INF] Hosting environment: Development
2025-04-25 12:04:08.185 -03:00 [INF] Content root path: C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api
2025-04-25 12:04:08.613 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/index.html - null null
2025-04-25 12:04:09.048 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/index.html - 200 null text/html;charset=utf-8 447.6891ms
2025-04-25 12:04:09.111 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 12:04:09.135 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 23.7923ms
2025-04-25 12:04:09.190 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_vs/browserLink - null null
2025-04-25 12:04:09.332 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_vs/browserLink - 200 null text/javascript; charset=UTF-8 142.4505ms
2025-04-25 12:04:09.480 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - null null
2025-04-25 12:04:09.598 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 118.1011ms
2025-04-25 12:04:31.686 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/Rentals - application/json; ver=1.0 307
2025-04-25 12:04:31.714 -03:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 12:04:31.982 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.RentalsController.Create (BikeRental.Api)'
2025-04-25 12:04:32.019 -03:00 [INF] Route matched with {action = "Create", controller = "Rentals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.RentalDto) on controller BikeRental.Api.Controllers.RentalsController (BikeRental.Api).
2025-04-25 12:04:32.750 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'BikeRental.Application.Models.ErrorResponseDto'.
2025-04-25 12:04:32.772 -03:00 [INF] Executed action BikeRental.Api.Controllers.RentalsController.Create (BikeRental.Api) in 739.5933ms
2025-04-25 12:04:32.775 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.RentalsController.Create (BikeRental.Api)'
2025-04-25 12:04:32.780 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/Rentals - 400 null application/json; charset=utf-8; ver=1.0 1093.4269ms
2025-04-25 12:09:07.580 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 12:14:07.610 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 12:19:07.652 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 12:29:56.041 -03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 12:29:56.539 -03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-04-25 12:29:56.568 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-04-25 12:29:56.579 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 12:29:56.591 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-04-25 12:29:57.334 -03:00 [INF] Configured endpoint MotorcycleNotification, Consumer: BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer
2025-04-25 12:29:57.538 -03:00 [INF] User profile is available. Using 'C:\Users\dtiDigital\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 12:29:57.674 -03:00 [INF] Delivery Processing Service is starting.
2025-04-25 12:29:58.391 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 12:29:58.521 -03:00 [INF] Bus started: "amazonsqs://us-east-1/"
2025-04-25 12:29:58.807 -03:00 [INF] Now listening on: http://localhost:5178
2025-04-25 12:29:59.094 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 12:29:59.097 -03:00 [INF] Hosting environment: Development
2025-04-25 12:29:59.099 -03:00 [INF] Content root path: C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api
2025-04-25 12:30:00.219 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/index.html - null null
2025-04-25 12:30:00.763 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/index.html - 200 null text/html;charset=utf-8 548.3848ms
2025-04-25 12:30:00.873 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 12:30:01.200 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_vs/browserLink - null null
2025-04-25 12:30:01.303 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 428.9733ms
2025-04-25 12:30:01.626 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_vs/browserLink - 200 null text/javascript; charset=UTF-8 425.8ms
2025-04-25 12:30:02.019 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - null null
2025-04-25 12:30:02.108 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 89.4138ms
2025-04-25 12:30:21.555 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/motorcycles - application/json; ver=1.0 74
2025-04-25 12:30:21.583 -03:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 12:30:21.872 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 12:30:21.925 -03:00 [INF] Route matched with {action = "Create", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.MotorcycleCreateDto) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 12:30:22.319 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__licensePlate_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Motorcycles" AS m
    WHERE m."LicensePlate" = @__licensePlate_0)
2025-04-25 12:30:22.640 -03:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?', @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Motorcycles" ("Id", "CreatedAt", "LicensePlate", "Model", "UpdatedAt", "Year")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-25 12:30:23.092 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'BikeRental.Application.Models.MotorcycleDto'.
2025-04-25 12:30:23.196 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api) in 1257.7554ms
2025-04-25 12:30:23.200 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 12:30:23.220 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/motorcycles - 201 null application/json; charset=utf-8; ver=1.0 1664.7572ms
2025-04-25 12:30:38.954 -03:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "IsRead", "Message", "NotificationDate", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-25 12:30:39.019 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'BikeRental.Infrastructure.Data.BikeRentalDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-25 12:30:43.519 -03:00 [ERR] R-FAULT "amazonsqs://us-east-1/MotorcycleNotification" "c8800000-5af2-3473-a65c-08dd840e1839" BikeRental.Domain.Events.MotorcycleRegisteredEvent BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer("00:00:16.0339835")
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BikeRental.Infrastructure.Data.BikeRentalDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Infrastructure\Data\BikeRentalDbContext.cs:line 172
   at BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer.Consume(ConsumeContext`1 context) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Infrastructure\Consumers\MotorcycleNotificationConsumer.cs:line 31
   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22
   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22
   at MassTransit.Middleware.ConsumerMessageFilter`2.MassTransit.IFilter<MassTransit.ConsumeContext<TMessage>>.Send(ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/Middleware/ConsumerMessageFilter.cs:line 48
2025-04-25 12:32:57.255 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/api/motorcycles - null null
2025-04-25 12:32:57.270 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api)'
2025-04-25 12:32:57.285 -03:00 [INF] Route matched with {action = "GetAll", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 12:33:05.851 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
2025-04-25 12:33:05.866 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[BikeRental.Domain.Entities.Motorcycle, BikeRental.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BikeRental.Application.Models.MotorcycleDto, BikeRental.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 12:33:05.871 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api) in 8581.3431ms
2025-04-25 12:33:05.873 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api)'
2025-04-25 12:33:05.875 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/api/motorcycles - 200 null application/json; charset=utf-8; ver=1.0 8620.0593ms
2025-04-25 12:34:06.335 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5178/api/motorcycles/a1b2c3d4-1234-5678-9012-abcdef123456 - application/json; ver=1.0 31
2025-04-25 12:34:06.344 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Update (BikeRental.Api)'
2025-04-25 12:34:06.357 -03:00 [INF] Route matched with {action = "Update", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(System.Guid, BikeRental.Application.Models.MotorcycleUpdateDto) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 12:34:06.526 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
WHERE m."Id" = @__p_0
LIMIT 1
2025-04-25 12:34:06.564 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?', @p2='?', @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Motorcycles" SET "CreatedAt" = @p0, "LicensePlate" = @p1, "Model" = @p2, "UpdatedAt" = @p3, "Year" = @p4
WHERE "Id" = @p5;
2025-04-25 12:34:06.571 -03:00 [INF] Executing OkObjectResult, writing value of type 'BikeRental.Application.Models.MotorcycleDto'.
2025-04-25 12:34:06.574 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.Update (BikeRental.Api) in 214.2456ms
2025-04-25 12:34:06.576 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Update (BikeRental.Api)'
2025-04-25 12:34:06.578 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5178/api/motorcycles/a1b2c3d4-1234-5678-9012-abcdef123456 - 200 null application/json; charset=utf-8; ver=1.0 243.9715ms
2025-04-25 12:34:47.570 -03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5178/api/motorcycles/e2ee8713-4fbc-4fd7-b963-2a87a01b9f18 - null null
2025-04-25 12:34:47.580 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Delete (BikeRental.Api)'
2025-04-25 12:34:47.589 -03:00 [INF] Route matched with {action = "Delete", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(System.Guid) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 12:34:47.612 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
WHERE m."Id" = @__p_0
LIMIT 1
2025-04-25 12:34:47.644 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Motorcycles"
WHERE "Id" = @p0;
2025-04-25 12:34:47.663 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-04-25 12:34:47.665 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.Delete (BikeRental.Api) in 69.6029ms
2025-04-25 12:34:47.668 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Delete (BikeRental.Api)'
2025-04-25 12:34:47.670 -03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5178/api/motorcycles/e2ee8713-4fbc-4fd7-b963-2a87a01b9f18 - 204 null null 99.4494ms
2025-04-25 12:34:58.424 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 12:35:02.518 -03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5178/api/motorcycles/e2ee8713-4fbc-4fd7-b963-2a87a01b9f18 - null null
2025-04-25 12:35:02.526 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Delete (BikeRental.Api)'
2025-04-25 12:35:02.529 -03:00 [INF] Route matched with {action = "Delete", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(System.Guid) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 12:35:10.219 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
WHERE m."Id" = @__p_0
LIMIT 1
2025-04-25 12:35:10.225 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-25 12:35:10.249 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.Delete (BikeRental.Api) in 7715.0193ms
2025-04-25 12:35:10.252 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Delete (BikeRental.Api)'
2025-04-25 12:35:10.254 -03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5178/api/motorcycles/e2ee8713-4fbc-4fd7-b963-2a87a01b9f18 - 404 null application/problem+json; charset=utf-8; ver=1.0 7735.8836ms
2025-04-25 12:36:06.436 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/api/motorcycles/e2ee8713-4fbc-4fd7-b963-2a87a01b9f18 - null null
2025-04-25 12:36:06.446 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetById (BikeRental.Api)'
2025-04-25 12:36:06.453 -03:00 [INF] Route matched with {action = "GetById", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 12:36:06.465 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
WHERE m."Id" = @__p_0
LIMIT 1
2025-04-25 12:36:06.473 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-25 12:36:06.480 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.GetById (BikeRental.Api) in 23.4987ms
2025-04-25 12:36:06.482 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetById (BikeRental.Api)'
2025-04-25 12:36:06.485 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/api/motorcycles/e2ee8713-4fbc-4fd7-b963-2a87a01b9f18 - 404 null application/problem+json; charset=utf-8; ver=1.0 49.0433ms
2025-04-25 12:36:13.430 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/api/motorcycles - null null
2025-04-25 12:36:13.438 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api)'
2025-04-25 12:36:13.440 -03:00 [INF] Route matched with {action = "GetAll", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 12:36:13.451 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
2025-04-25 12:36:13.459 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[BikeRental.Domain.Entities.Motorcycle, BikeRental.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BikeRental.Application.Models.MotorcycleDto, BikeRental.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 12:36:13.462 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api) in 17.681ms
2025-04-25 12:36:13.464 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api)'
2025-04-25 12:36:13.466 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/api/motorcycles - 200 null application/json; charset=utf-8; ver=1.0 35.9929ms
2025-04-25 12:36:56.889 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - application/json; ver=1.0 347
2025-04-25 12:36:56.895 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 12:36:56.906 -03:00 [INF] Route matched with {action = "Create", controller = "DeliveryPersons"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.DeliveryPersonCreateDto) on controller BikeRental.Api.Controllers.DeliveryPersonsController (BikeRental.Api).
2025-04-25 12:36:57.257 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'BikeRental.Application.Models.ErrorResponseDto'.
2025-04-25 12:36:57.261 -03:00 [INF] Executed action BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api) in 351.5039ms
2025-04-25 12:36:57.264 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 12:36:57.267 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - 400 null application/json; charset=utf-8; ver=1.0 378.2641ms
2025-04-25 12:39:58.445 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 12:40:38.988 -03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 12:40:39.482 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-04-25 12:40:39.510 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-04-25 12:40:39.520 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 12:40:39.534 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-04-25 12:40:40.401 -03:00 [INF] Configured endpoint MotorcycleNotification, Consumer: BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer
2025-04-25 12:40:40.661 -03:00 [INF] User profile is available. Using 'C:\Users\dtiDigital\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 12:40:40.815 -03:00 [INF] Delivery Processing Service is starting.
2025-04-25 12:40:41.519 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 12:40:41.601 -03:00 [INF] Bus started: "amazonsqs://us-east-1/"
2025-04-25 12:40:41.954 -03:00 [INF] Now listening on: http://localhost:5178
2025-04-25 12:40:42.855 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/index.html - null null
2025-04-25 12:40:42.936 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 12:40:42.942 -03:00 [INF] Hosting environment: Development
2025-04-25 12:40:42.945 -03:00 [INF] Content root path: C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api
2025-04-25 12:40:43.373 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/index.html - 200 null text/html;charset=utf-8 526.8397ms
2025-04-25 12:40:43.432 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 12:40:43.445 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 12.857ms
2025-04-25 12:40:43.496 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_vs/browserLink - null null
2025-04-25 12:40:43.608 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_vs/browserLink - 200 null text/javascript; charset=UTF-8 111.9792ms
2025-04-25 12:40:43.738 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - null null
2025-04-25 12:40:43.810 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 71.3841ms
2025-04-25 12:40:56.859 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - application/json; ver=1.0 347
2025-04-25 12:40:56.881 -03:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 12:40:57.145 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 12:40:57.190 -03:00 [INF] Route matched with {action = "Create", controller = "DeliveryPersons"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.DeliveryPersonCreateDto) on controller BikeRental.Api.Controllers.DeliveryPersonsController (BikeRental.Api).
2025-04-25 12:40:57.901 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'BikeRental.Application.Models.ErrorResponseDto'.
2025-04-25 12:40:57.918 -03:00 [INF] Executed action BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api) in 719.8187ms
2025-04-25 12:40:57.921 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 12:40:57.926 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - 400 null application/json; charset=utf-8; ver=1.0 1066.5104ms
2025-04-25 12:45:41.678 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 12:50:01.037 -03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 12:50:01.609 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-04-25 12:50:01.639 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-04-25 12:50:01.650 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 12:50:01.664 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-04-25 12:50:02.735 -03:00 [INF] Configured endpoint MotorcycleNotification, Consumer: BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer
2025-04-25 12:50:02.980 -03:00 [INF] User profile is available. Using 'C:\Users\dtiDigital\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 12:50:03.140 -03:00 [INF] Delivery Processing Service is starting.
2025-04-25 12:50:03.838 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 12:50:03.904 -03:00 [INF] Bus started: "amazonsqs://us-east-1/"
2025-04-25 12:50:04.144 -03:00 [INF] Now listening on: http://localhost:5178
2025-04-25 12:50:04.427 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 12:50:04.430 -03:00 [INF] Hosting environment: Development
2025-04-25 12:50:04.432 -03:00 [INF] Content root path: C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api
2025-04-25 12:50:05.378 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/index.html - null null
2025-04-25 12:50:05.861 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/index.html - 200 null text/html;charset=utf-8 489.6793ms
2025-04-25 12:50:05.898 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 12:50:05.931 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 32.8915ms
2025-04-25 12:50:06.014 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_vs/browserLink - null null
2025-04-25 12:50:06.122 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_vs/browserLink - 200 null text/javascript; charset=UTF-8 108.3769ms
2025-04-25 12:50:06.278 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - null null
2025-04-25 12:50:06.502 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 223.8558ms
2025-04-25 12:50:21.250 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - application/json; ver=1.0 346
2025-04-25 12:50:21.275 -03:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 12:50:21.541 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 12:50:21.585 -03:00 [INF] Route matched with {action = "Create", controller = "DeliveryPersons"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.DeliveryPersonCreateDto) on controller BikeRental.Api.Controllers.DeliveryPersonsController (BikeRental.Api).
2025-04-25 12:50:22.212 -03:00 [INF] Executed DbCommand (135ms) [Parameters=[@__cnpj_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "DeliveryPersons" AS d
    WHERE d."CNPJ" = @__cnpj_0)
2025-04-25 12:50:23.062 -03:00 [INF] Executing ConflictObjectResult, writing value of type 'BikeRental.Application.Models.ErrorResponseDto'.
2025-04-25 12:50:23.081 -03:00 [INF] Executed action BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api) in 1486.7318ms
2025-04-25 12:50:23.084 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 12:50:23.099 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - 409 null application/json; charset=utf-8; ver=1.0 1848.7202ms
2025-04-25 12:50:42.202 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - application/json; ver=1.0 346
2025-04-25 12:50:42.246 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 12:50:42.256 -03:00 [INF] Route matched with {action = "Create", controller = "DeliveryPersons"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.DeliveryPersonCreateDto) on controller BikeRental.Api.Controllers.DeliveryPersonsController (BikeRental.Api).
2025-04-25 12:50:42.294 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cnpj_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "DeliveryPersons" AS d
    WHERE d."CNPJ" = @__cnpj_0)
2025-04-25 12:50:42.320 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__driverLicenseNumber_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "DeliveryPersons" AS d
    WHERE d."DriverLicenseNumber" = @__driverLicenseNumber_0)
2025-04-25 12:50:42.703 -03:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?', @p3='?' (DbType = DateTime2), @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DeliveryPersons" ("Id", "BirthDate", "CNPJ", "CreatedAt", "DriverLicenseImageUrl", "DriverLicenseNumber", "DriverLicenseType", "Name", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-04-25 12:50:42.738 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'BikeRental.Application.Models.DeliveryPersonDto'.
2025-04-25 12:50:42.797 -03:00 [INF] Executed action BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api) in 528.3257ms
2025-04-25 12:50:42.801 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 12:50:42.804 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - 201 null application/json; charset=utf-8; ver=1.0 602.3486ms
2025-04-25 12:51:35.623 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/api/DeliveryPersons/b751d405-8b85-45da-a28d-7e7aaa396f59 - null null
2025-04-25 12:51:35.647 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.GetById (BikeRental.Api)'
2025-04-25 12:51:35.660 -03:00 [INF] Route matched with {action = "GetById", controller = "DeliveryPersons"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller BikeRental.Api.Controllers.DeliveryPersonsController (BikeRental.Api).
2025-04-25 12:51:35.810 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."BirthDate", d."CNPJ", d."CreatedAt", d."DriverLicenseImageUrl", d."DriverLicenseNumber", d."DriverLicenseType", d."Name", d."UpdatedAt"
FROM "DeliveryPersons" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-04-25 12:51:35.836 -03:00 [INF] Executing OkObjectResult, writing value of type 'BikeRental.Application.Models.DeliveryPersonDto'.
2025-04-25 12:51:35.839 -03:00 [INF] Executed action BikeRental.Api.Controllers.DeliveryPersonsController.GetById (BikeRental.Api) in 174.0801ms
2025-04-25 12:51:35.842 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.GetById (BikeRental.Api)'
2025-04-25 12:51:35.847 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/api/DeliveryPersons/b751d405-8b85-45da-a28d-7e7aaa396f59 - 200 null application/json; charset=utf-8; ver=1.0 223.8271ms
2025-04-25 12:51:45.998 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons/b751d405-8b85-45da-a28d-7e7aaa396f59/driver-license-image - application/json; ver=1.0 128
2025-04-25 12:51:46.008 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.UpdateDriverLicenseImage (BikeRental.Api)'
2025-04-25 12:51:46.016 -03:00 [INF] Route matched with {action = "UpdateDriverLicenseImage", controller = "DeliveryPersons"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDriverLicenseImage(System.Guid, BikeRental.Application.Models.DriverLicenseImageDto) on controller BikeRental.Api.Controllers.DeliveryPersonsController (BikeRental.Api).
2025-04-25 12:51:46.037 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."BirthDate", d."CNPJ", d."CreatedAt", d."DriverLicenseImageUrl", d."DriverLicenseNumber", d."DriverLicenseType", d."Name", d."UpdatedAt"
FROM "DeliveryPersons" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-04-25 12:51:46.072 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?', @p2='?' (DbType = DateTime2), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
UPDATE "DeliveryPersons" SET "BirthDate" = @p0, "CNPJ" = @p1, "CreatedAt" = @p2, "DriverLicenseImageUrl" = @p3, "DriverLicenseNumber" = @p4, "DriverLicenseType" = @p5, "Name" = @p6, "UpdatedAt" = @p7
WHERE "Id" = @p8;
2025-04-25 12:51:46.081 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-04-25 12:51:46.084 -03:00 [INF] Executed action BikeRental.Api.Controllers.DeliveryPersonsController.UpdateDriverLicenseImage (BikeRental.Api) in 62.1102ms
2025-04-25 12:51:46.088 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.UpdateDriverLicenseImage (BikeRental.Api)'
2025-04-25 12:51:46.091 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons/b751d405-8b85-45da-a28d-7e7aaa396f59/driver-license-image - 200 0 null 92.7695ms
2025-04-25 12:52:26.540 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/api/motorcycles - null null
2025-04-25 12:52:26.547 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api)'
2025-04-25 12:52:26.558 -03:00 [INF] Route matched with {action = "GetAll", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 12:52:26.613 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
2025-04-25 12:52:26.671 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[BikeRental.Domain.Entities.Motorcycle, BikeRental.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BikeRental.Application.Models.MotorcycleDto, BikeRental.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 12:52:26.686 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api) in 122.5463ms
2025-04-25 12:52:26.689 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api)'
2025-04-25 12:52:26.691 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/api/motorcycles - 200 null application/json; charset=utf-8; ver=1.0 151.1823ms
2025-04-25 12:53:19.274 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/motorcycles - application/json; ver=1.0 74
2025-04-25 12:53:19.283 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 12:53:19.294 -03:00 [INF] Route matched with {action = "Create", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.MotorcycleCreateDto) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 12:53:19.342 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__licensePlate_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Motorcycles" AS m
    WHERE m."LicensePlate" = @__licensePlate_0)
2025-04-25 12:53:19.389 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?', @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Motorcycles" ("Id", "CreatedAt", "LicensePlate", "Model", "UpdatedAt", "Year")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-25 12:53:19.690 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'BikeRental.Application.Models.MotorcycleDto'.
2025-04-25 12:53:19.699 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api) in 402.2075ms
2025-04-25 12:53:19.701 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 12:53:19.705 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/motorcycles - 201 null application/json; charset=utf-8; ver=1.0 430.732ms
2025-04-25 12:53:26.400 -03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "IsRead", "Message", "NotificationDate", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-25 12:53:26.458 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'BikeRental.Infrastructure.Data.BikeRentalDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-25 12:53:26.793 -03:00 [ERR] R-FAULT "amazonsqs://us-east-1/MotorcycleNotification" "b4310000-5af2-3473-5c14-08dd84114cce" BikeRental.Domain.Events.MotorcycleRegisteredEvent BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer("00:00:06.8797431")
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BikeRental.Infrastructure.Data.BikeRentalDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Infrastructure\Data\BikeRentalDbContext.cs:line 172
   at BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer.Consume(ConsumeContext`1 context) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Infrastructure\Consumers\MotorcycleNotificationConsumer.cs:line 31
   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22
   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22
   at MassTransit.Middleware.ConsumerMessageFilter`2.MassTransit.IFilter<MassTransit.ConsumeContext<TMessage>>.Send(ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/Middleware/ConsumerMessageFilter.cs:line 48
2025-04-25 12:53:27.666 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/index.html - null null
2025-04-25 12:53:27.711 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/index.html - 200 null text/html;charset=utf-8 47.9443ms
2025-04-25 12:53:27.774 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 12:53:27.775 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_vs/browserLink - null null
2025-04-25 12:53:27.789 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 14.804ms
2025-04-25 12:53:27.877 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_vs/browserLink - 200 null text/javascript; charset=UTF-8 101.3909ms
2025-04-25 12:53:27.989 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - null null
2025-04-25 12:53:28.074 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 84.8546ms
2025-04-25 12:53:57.735 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/api/motorcycles - null null
2025-04-25 12:53:57.743 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api)'
2025-04-25 12:53:57.750 -03:00 [INF] Route matched with {action = "GetAll", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 12:53:57.765 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
2025-04-25 12:53:57.770 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[BikeRental.Domain.Entities.Motorcycle, BikeRental.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BikeRental.Application.Models.MotorcycleDto, BikeRental.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 12:53:57.775 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api) in 20.2349ms
2025-04-25 12:53:57.777 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api)'
2025-04-25 12:53:57.779 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/api/motorcycles - 200 null application/json; charset=utf-8; ver=1.0 43.431ms
2025-04-25 12:54:43.124 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/api/motorcycles/a1b2c3d4-1234-5678-9012-abcdef123456 - null null
2025-04-25 12:54:43.132 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetById (BikeRental.Api)'
2025-04-25 12:54:43.140 -03:00 [INF] Route matched with {action = "GetById", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 12:54:43.166 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
WHERE m."Id" = @__p_0
LIMIT 1
2025-04-25 12:54:43.172 -03:00 [INF] Executing OkObjectResult, writing value of type 'BikeRental.Application.Models.MotorcycleDto'.
2025-04-25 12:54:43.174 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.GetById (BikeRental.Api) in 29.437ms
2025-04-25 12:54:43.176 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetById (BikeRental.Api)'
2025-04-25 12:54:43.178 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/api/motorcycles/a1b2c3d4-1234-5678-9012-abcdef123456 - 200 null application/json; charset=utf-8; ver=1.0 54.1801ms
2025-04-25 12:55:03.862 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 12:55:25.971 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5178/api/motorcycles/a1b2c3d4-1234-5678-9012-abcdef123456 - application/json; ver=1.0 31
2025-04-25 12:55:25.979 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Update (BikeRental.Api)'
2025-04-25 12:55:25.987 -03:00 [INF] Route matched with {action = "Update", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(System.Guid, BikeRental.Application.Models.MotorcycleUpdateDto) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 12:55:26.018 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
WHERE m."Id" = @__p_0
LIMIT 1
2025-04-25 12:55:26.030 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?', @p2='?', @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Motorcycles" SET "CreatedAt" = @p0, "LicensePlate" = @p1, "Model" = @p2, "UpdatedAt" = @p3, "Year" = @p4
WHERE "Id" = @p5;
2025-04-25 12:55:26.033 -03:00 [INF] Executing OkObjectResult, writing value of type 'BikeRental.Application.Models.MotorcycleDto'.
2025-04-25 12:55:26.036 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.Update (BikeRental.Api) in 45.7984ms
2025-04-25 12:55:26.039 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Update (BikeRental.Api)'
2025-04-25 12:55:26.041 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5178/api/motorcycles/a1b2c3d4-1234-5678-9012-abcdef123456 - 200 null application/json; charset=utf-8; ver=1.0 70.3997ms
2025-04-25 12:55:46.313 -03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5178/api/motorcycles/a1b2c3d4-1234-5678-9012-abcdef123456 - null null
2025-04-25 12:55:46.318 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Delete (BikeRental.Api)'
2025-04-25 12:55:46.324 -03:00 [INF] Route matched with {action = "Delete", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(System.Guid) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 12:55:46.336 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
WHERE m."Id" = @__p_0
LIMIT 1
2025-04-25 12:55:46.361 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Motorcycles"
WHERE "Id" = @p0;
2025-04-25 12:55:46.370 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-04-25 12:55:46.373 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.Delete (BikeRental.Api) in 42.6729ms
2025-04-25 12:55:46.375 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Delete (BikeRental.Api)'
2025-04-25 12:55:46.378 -03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5178/api/motorcycles/a1b2c3d4-1234-5678-9012-abcdef123456 - 204 null null 64.9917ms
2025-04-25 12:55:57.360 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/api/motorcycles - null null
2025-04-25 12:55:57.374 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api)'
2025-04-25 12:55:57.378 -03:00 [INF] Route matched with {action = "GetAll", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 12:55:57.387 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
2025-04-25 12:55:57.392 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[BikeRental.Domain.Entities.Motorcycle, BikeRental.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BikeRental.Application.Models.MotorcycleDto, BikeRental.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 12:55:57.395 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api) in 14.1621ms
2025-04-25 12:55:57.398 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api)'
2025-04-25 12:55:57.402 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/api/motorcycles - 200 null application/json; charset=utf-8; ver=1.0 41.8682ms
2025-04-25 12:57:22.182 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/Rentals - application/json; ver=1.0 378
2025-04-25 12:57:22.199 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.RentalsController.Create (BikeRental.Api)'
2025-04-25 12:57:22.210 -03:00 [INF] Route matched with {action = "Create", controller = "Rentals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.RentalDto) on controller BikeRental.Api.Controllers.RentalsController (BikeRental.Api).
2025-04-25 12:57:22.286 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."BirthDate", d."CNPJ", d."CreatedAt", d."DriverLicenseImageUrl", d."DriverLicenseNumber", d."DriverLicenseType", d."Name", d."UpdatedAt"
FROM "DeliveryPersons" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-04-25 12:57:22.843 -03:00 [INF] Executing NotFoundObjectResult, writing value of type 'BikeRental.Application.Models.ErrorResponseDto'.
2025-04-25 12:57:22.847 -03:00 [INF] Executed action BikeRental.Api.Controllers.RentalsController.Create (BikeRental.Api) in 633.6774ms
2025-04-25 12:57:22.849 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.RentalsController.Create (BikeRental.Api)'
2025-04-25 12:57:22.851 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/Rentals - 404 null application/json; charset=utf-8; ver=1.0 668.7691ms
2025-04-25 12:58:03.674 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/Rentals - application/json; ver=1.0 378
2025-04-25 12:58:03.683 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.RentalsController.Create (BikeRental.Api)'
2025-04-25 12:58:03.686 -03:00 [INF] Route matched with {action = "Create", controller = "Rentals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.RentalDto) on controller BikeRental.Api.Controllers.RentalsController (BikeRental.Api).
2025-04-25 12:58:03.710 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."BirthDate", d."CNPJ", d."CreatedAt", d."DriverLicenseImageUrl", d."DriverLicenseNumber", d."DriverLicenseType", d."Name", d."UpdatedAt"
FROM "DeliveryPersons" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-04-25 12:58:03.728 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
WHERE m."Id" = @__p_0
LIMIT 1
2025-04-25 12:58:03.759 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__motorcycleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Rentals" AS r
    WHERE r."MotorcycleId" = @__motorcycleId_0 AND r."IsActive")
2025-04-25 12:58:03.999 -03:00 [ERR] Failed executing DbCommand (9ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Decimal), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = Guid), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
UPDATE "DeliveryPersons" SET "UpdatedAt" = @p0
WHERE "Id" = @p1;
UPDATE "Motorcycles" SET "UpdatedAt" = @p2
WHERE "Id" = @p3;
INSERT INTO "Rentals" ("Id", "CreatedAt", "DailyCost", "DeliveryPersonId", "EndDate", "ExpectedEndDate", "IsActive", "MotorcycleId", "Plan", "StartDate", "UpdatedAt")
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-04-25 12:58:04.042 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'BikeRental.Infrastructure.Data.BikeRentalDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-25 12:58:04.918 -03:00 [INF] Executed action BikeRental.Api.Controllers.RentalsController.Create (BikeRental.Api) in 1220.6384ms
2025-04-25 12:58:04.925 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.RentalsController.Create (BikeRental.Api)'
2025-04-25 12:58:04.936 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BikeRental.Infrastructure.Data.BikeRentalDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Infrastructure\Data\BikeRentalDbContext.cs:line 172
   at BikeRental.Infrastructure.Repositories.RentalRepository.AddAsync(Rental rental) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Infrastructure\Repositories\RentalRepository.cs:line 20
   at BikeRental.Application.Services.RentalService.CreateRentalAsync(RentalDto createDto) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Application\Services\RentalService.cs:line 86
   at BikeRental.Api.Controllers.RentalsController.Create(RentalDto createDto)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context) in C:\Users\User\Documents\Github\AspNetCoreRateLimit\src\AspNetCoreRateLimit\Middleware\RateLimitMiddleware.cs:line 124
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-04-25 12:58:04.977 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-25 12:58:05.017 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/Rentals - 500 null application/problem+json; charset=utf-8; ver=1.0 1342.6642ms
2025-04-25 13:00:03.877 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 13:02:57.904 -03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 13:02:58.427 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-04-25 13:02:58.458 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-04-25 13:02:58.469 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 13:02:58.482 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-04-25 13:02:59.379 -03:00 [INF] Configured endpoint MotorcycleNotification, Consumer: BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer
2025-04-25 13:02:59.606 -03:00 [INF] User profile is available. Using 'C:\Users\dtiDigital\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 13:02:59.739 -03:00 [INF] Delivery Processing Service is starting.
2025-04-25 13:03:00.490 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 13:03:00.605 -03:00 [INF] Bus started: "amazonsqs://us-east-1/"
2025-04-25 13:03:00.822 -03:00 [INF] Now listening on: http://localhost:5178
2025-04-25 13:03:01.234 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 13:03:01.251 -03:00 [INF] Hosting environment: Development
2025-04-25 13:03:01.256 -03:00 [INF] Content root path: C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api
2025-04-25 13:03:02.072 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/index.html - null null
2025-04-25 13:03:02.790 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/index.html - 200 null text/html;charset=utf-8 723.4205ms
2025-04-25 13:03:03.141 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:03:03.200 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 58.1336ms
2025-04-25 13:03:03.637 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_vs/browserLink - null null
2025-04-25 13:03:03.847 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_vs/browserLink - 200 null text/javascript; charset=UTF-8 210.0339ms
2025-04-25 13:03:03.995 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - null null
2025-04-25 13:03:04.112 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 117.499ms
2025-04-25 13:04:54.624 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/Rentals - application/json; ver=1.0 378
2025-04-25 13:04:54.660 -03:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 13:04:54.915 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.RentalsController.Create (BikeRental.Api)'
2025-04-25 13:04:54.954 -03:00 [INF] Route matched with {action = "Create", controller = "Rentals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.RentalDto) on controller BikeRental.Api.Controllers.RentalsController (BikeRental.Api).
2025-04-25 13:04:55.369 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."BirthDate", d."CNPJ", d."CreatedAt", d."DriverLicenseImageUrl", d."DriverLicenseNumber", d."DriverLicenseType", d."Name", d."UpdatedAt"
FROM "DeliveryPersons" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-04-25 13:04:55.517 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
WHERE m."Id" = @__p_0
LIMIT 1
2025-04-25 13:04:55.579 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__motorcycleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Rentals" AS r
    WHERE r."MotorcycleId" = @__motorcycleId_0 AND r."IsActive")
2025-04-25 13:04:55.855 -03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Decimal), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = Guid), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
UPDATE "DeliveryPersons" SET "UpdatedAt" = @p0
WHERE "Id" = @p1;
UPDATE "Motorcycles" SET "UpdatedAt" = @p2
WHERE "Id" = @p3;
INSERT INTO "Rentals" ("Id", "CreatedAt", "DailyCost", "DeliveryPersonId", "EndDate", "ExpectedEndDate", "IsActive", "MotorcycleId", "Plan", "StartDate", "UpdatedAt")
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-04-25 13:04:55.891 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'BikeRental.Application.Models.RentalDto'.
2025-04-25 13:04:55.931 -03:00 [INF] Executed action BikeRental.Api.Controllers.RentalsController.Create (BikeRental.Api) in 968.8721ms
2025-04-25 13:04:55.935 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.RentalsController.Create (BikeRental.Api)'
2025-04-25 13:04:55.948 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/Rentals - 201 null application/json; charset=utf-8; ver=1.0 1324.2244ms
2025-04-25 13:05:24.621 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/api/Rentals/2f5839e9-96b5-4c2e-b828-05bf80c0a39e - null null
2025-04-25 13:05:24.635 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.RentalsController.GetById (BikeRental.Api)'
2025-04-25 13:05:24.646 -03:00 [INF] Route matched with {action = "GetById", controller = "Rentals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller BikeRental.Api.Controllers.RentalsController (BikeRental.Api).
2025-04-25 13:05:24.745 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."DailyCost", r."DeliveryPersonId", r."EndDate", r."ExpectedEndDate", r."IsActive", r."MotorcycleId", r."Plan", r."StartDate", r."UpdatedAt", m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year", d."Id", d."BirthDate", d."CNPJ", d."CreatedAt", d."DriverLicenseImageUrl", d."DriverLicenseNumber", d."DriverLicenseType", d."Name", d."UpdatedAt"
FROM "Rentals" AS r
INNER JOIN "Motorcycles" AS m ON r."MotorcycleId" = m."Id"
INNER JOIN "DeliveryPersons" AS d ON r."DeliveryPersonId" = d."Id"
WHERE r."Id" = @__id_0
LIMIT 1
2025-04-25 13:05:24.762 -03:00 [INF] Executing OkObjectResult, writing value of type 'BikeRental.Application.Models.RentalDto'.
2025-04-25 13:05:24.765 -03:00 [INF] Executed action BikeRental.Api.Controllers.RentalsController.GetById (BikeRental.Api) in 116.9813ms
2025-04-25 13:05:24.768 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.RentalsController.GetById (BikeRental.Api)'
2025-04-25 13:05:24.772 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/api/Rentals/2f5839e9-96b5-4c2e-b828-05bf80c0a39e - 200 null application/json; charset=utf-8; ver=1.0 150.9313ms
2025-04-25 13:07:10.338 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5178/api/Rentals/2f5839e9-96b5-4c2e-b828-05bf80c0a39e/return - application/json; ver=1.0 51
2025-04-25 13:07:10.350 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.RentalsController.Return (BikeRental.Api)'
2025-04-25 13:07:10.359 -03:00 [INF] Route matched with {action = "Return", controller = "Rentals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Return(System.Guid, BikeRental.Application.Models.RentalReturnDto) on controller BikeRental.Api.Controllers.RentalsController (BikeRental.Api).
2025-04-25 13:07:10.390 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."DailyCost", r."DeliveryPersonId", r."EndDate", r."ExpectedEndDate", r."IsActive", r."MotorcycleId", r."Plan", r."StartDate", r."UpdatedAt", m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year", d."Id", d."BirthDate", d."CNPJ", d."CreatedAt", d."DriverLicenseImageUrl", d."DriverLicenseNumber", d."DriverLicenseType", d."Name", d."UpdatedAt"
FROM "Rentals" AS r
INNER JOIN "Motorcycles" AS m ON r."MotorcycleId" = m."Id"
INNER JOIN "DeliveryPersons" AS d ON r."DeliveryPersonId" = d."Id"
WHERE r."Id" = @__id_0
LIMIT 1
2025-04-25 13:07:10.410 -03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p14='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Decimal), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
UPDATE "DeliveryPersons" SET "UpdatedAt" = @p0
WHERE "Id" = @p1;
UPDATE "Motorcycles" SET "UpdatedAt" = @p2
WHERE "Id" = @p3;
UPDATE "Rentals" SET "CreatedAt" = @p4, "DailyCost" = @p5, "DeliveryPersonId" = @p6, "EndDate" = @p7, "ExpectedEndDate" = @p8, "IsActive" = @p9, "MotorcycleId" = @p10, "Plan" = @p11, "StartDate" = @p12, "UpdatedAt" = @p13
WHERE "Id" = @p14;
2025-04-25 13:07:10.489 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'BikeRental.Infrastructure.Data.BikeRentalDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-25 13:07:11.413 -03:00 [INF] Executed action BikeRental.Api.Controllers.RentalsController.Return (BikeRental.Api) in 1048.0962ms
2025-04-25 13:07:11.421 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.RentalsController.Return (BikeRental.Api)'
2025-04-25 13:07:11.435 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=UTC to PostgreSQL type 'timestamp without time zone', consider using 'timestamp with time zone'. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BikeRental.Infrastructure.Data.BikeRentalDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Infrastructure\Data\BikeRentalDbContext.cs:line 172
   at BikeRental.Infrastructure.Repositories.RentalRepository.UpdateAsync(Rental rental) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Infrastructure\Repositories\RentalRepository.cs:line 27
   at BikeRental.Application.Services.RentalService.ReturnRentalAsync(Guid id, RentalReturnDto returnDto) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Application\Services\RentalService.cs:line 121
   at BikeRental.Api.Controllers.RentalsController.Return(Guid id, RentalReturnDto returnDto) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api\Controllers\RentalsController.cs:line 62
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context) in C:\Users\User\Documents\Github\AspNetCoreRateLimit\src\AspNetCoreRateLimit\Middleware\RateLimitMiddleware.cs:line 124
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-04-25 13:07:11.508 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-25 13:07:11.549 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5178/api/Rentals/2f5839e9-96b5-4c2e-b828-05bf80c0a39e/return - 500 null application/problem+json; charset=utf-8; ver=1.0 1211.6583ms
2025-04-25 13:08:00.574 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 13:13:00.608 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 13:23:32.622 -03:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 13:23:33.343 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-04-25 13:23:33.376 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-04-25 13:23:33.387 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 13:23:33.405 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-04-25 13:23:34.197 -03:00 [INF] Configured endpoint MotorcycleNotification, Consumer: BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer
2025-04-25 13:23:34.428 -03:00 [INF] User profile is available. Using 'C:\Users\dtiDigital\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 13:23:34.569 -03:00 [INF] Delivery Processing Service is starting.
2025-04-25 13:23:35.458 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 13:23:35.603 -03:00 [INF] Bus started: "amazonsqs://us-east-1/"
2025-04-25 13:23:35.795 -03:00 [INF] Now listening on: http://localhost:5178
2025-04-25 13:23:36.143 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 13:23:36.148 -03:00 [INF] Hosting environment: Development
2025-04-25 13:23:36.173 -03:00 [INF] Content root path: C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api
2025-04-25 13:23:36.778 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/index.html - null null
2025-04-25 13:23:37.222 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/index.html - 200 null text/html;charset=utf-8 451.2589ms
2025-04-25 13:23:37.286 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:23:37.321 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 35.7884ms
2025-04-25 13:23:37.367 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_vs/browserLink - null null
2025-04-25 13:23:37.471 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_vs/browserLink - 200 null text/javascript; charset=UTF-8 104.7178ms
2025-04-25 13:23:37.609 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - null null
2025-04-25 13:23:37.668 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.3186ms
2025-04-25 13:24:27.594 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/Rentals - application/json; ver=1.0 377
2025-04-25 13:24:27.620 -03:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 13:24:27.847 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.RentalsController.Create (BikeRental.Api)'
2025-04-25 13:24:27.884 -03:00 [INF] Route matched with {action = "Create", controller = "Rentals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.RentalDto) on controller BikeRental.Api.Controllers.RentalsController (BikeRental.Api).
2025-04-25 13:24:28.263 -03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."BirthDate", d."CNPJ", d."CreatedAt", d."DriverLicenseImageUrl", d."DriverLicenseNumber", d."DriverLicenseType", d."Name", d."UpdatedAt"
FROM "DeliveryPersons" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-04-25 13:24:28.380 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
WHERE m."Id" = @__p_0
LIMIT 1
2025-04-25 13:24:28.449 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__motorcycleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Rentals" AS r
    WHERE r."MotorcycleId" = @__motorcycleId_0 AND r."IsActive")
2025-04-25 13:24:29.036 -03:00 [INF] Executing ConflictObjectResult, writing value of type 'BikeRental.Application.Models.ErrorResponseDto'.
2025-04-25 13:24:29.051 -03:00 [INF] Executed action BikeRental.Api.Controllers.RentalsController.Create (BikeRental.Api) in 1158.3518ms
2025-04-25 13:24:29.054 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.RentalsController.Create (BikeRental.Api)'
2025-04-25 13:24:29.066 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/Rentals - 409 null application/json; charset=utf-8; ver=1.0 1472.4912ms
2025-04-25 13:25:20.219 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/motorcycles - application/json; ver=1.0 74
2025-04-25 13:25:20.238 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 13:25:20.247 -03:00 [INF] Route matched with {action = "Create", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.MotorcycleCreateDto) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 13:25:20.297 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__licensePlate_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Motorcycles" AS m
    WHERE m."LicensePlate" = @__licensePlate_0)
2025-04-25 13:25:20.436 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?', @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Motorcycles" ("Id", "CreatedAt", "LicensePlate", "Model", "UpdatedAt", "Year")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-25 13:25:20.686 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'BikeRental.Application.Models.MotorcycleDto'.
2025-04-25 13:25:20.733 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api) in 481.5922ms
2025-04-25 13:25:20.736 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 13:25:20.738 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/motorcycles - 201 null application/json; charset=utf-8; ver=1.0 519.5056ms
2025-04-25 13:25:35.568 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "IsRead", "Message", "NotificationDate", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-25 13:26:14.147 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/Rentals - application/json; ver=1.0 377
2025-04-25 13:26:14.158 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.RentalsController.Create (BikeRental.Api)'
2025-04-25 13:26:14.161 -03:00 [INF] Route matched with {action = "Create", controller = "Rentals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.RentalDto) on controller BikeRental.Api.Controllers.RentalsController (BikeRental.Api).
2025-04-25 13:26:14.182 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."BirthDate", d."CNPJ", d."CreatedAt", d."DriverLicenseImageUrl", d."DriverLicenseNumber", d."DriverLicenseType", d."Name", d."UpdatedAt"
FROM "DeliveryPersons" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-04-25 13:26:14.192 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
WHERE m."Id" = @__p_0
LIMIT 1
2025-04-25 13:26:14.200 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__motorcycleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Rentals" AS r
    WHERE r."MotorcycleId" = @__motorcycleId_0 AND r."IsActive")
2025-04-25 13:26:14.421 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Decimal), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = Guid), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
UPDATE "DeliveryPersons" SET "UpdatedAt" = @p0
WHERE "Id" = @p1;
UPDATE "Motorcycles" SET "UpdatedAt" = @p2
WHERE "Id" = @p3;
INSERT INTO "Rentals" ("Id", "CreatedAt", "DailyCost", "DeliveryPersonId", "EndDate", "ExpectedEndDate", "IsActive", "MotorcycleId", "Plan", "ReturnDate", "StartDate", "UpdatedAt")
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-04-25 13:26:14.429 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'BikeRental.Application.Models.RentalDto'.
2025-04-25 13:26:14.433 -03:00 [INF] Executed action BikeRental.Api.Controllers.RentalsController.Create (BikeRental.Api) in 268.4543ms
2025-04-25 13:26:14.435 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.RentalsController.Create (BikeRental.Api)'
2025-04-25 13:26:14.437 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/Rentals - 201 null application/json; charset=utf-8; ver=1.0 290.2446ms
2025-04-25 13:26:31.939 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/api/Rentals/38ccb6be-056c-4d2b-9fbf-40a89b7d780f - null null
2025-04-25 13:26:31.959 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.RentalsController.GetById (BikeRental.Api)'
2025-04-25 13:26:31.969 -03:00 [INF] Route matched with {action = "GetById", controller = "Rentals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller BikeRental.Api.Controllers.RentalsController (BikeRental.Api).
2025-04-25 13:26:32.108 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."DailyCost", r."DeliveryPersonId", r."EndDate", r."ExpectedEndDate", r."IsActive", r."MotorcycleId", r."Plan", r."ReturnDate", r."StartDate", r."UpdatedAt", m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year", d."Id", d."BirthDate", d."CNPJ", d."CreatedAt", d."DriverLicenseImageUrl", d."DriverLicenseNumber", d."DriverLicenseType", d."Name", d."UpdatedAt"
FROM "Rentals" AS r
INNER JOIN "Motorcycles" AS m ON r."MotorcycleId" = m."Id"
INNER JOIN "DeliveryPersons" AS d ON r."DeliveryPersonId" = d."Id"
WHERE r."Id" = @__id_0
LIMIT 1
2025-04-25 13:26:32.165 -03:00 [INF] Executing OkObjectResult, writing value of type 'BikeRental.Application.Models.RentalDto'.
2025-04-25 13:26:32.168 -03:00 [INF] Executed action BikeRental.Api.Controllers.RentalsController.GetById (BikeRental.Api) in 194.2978ms
2025-04-25 13:26:32.180 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.RentalsController.GetById (BikeRental.Api)'
2025-04-25 13:26:32.183 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/api/Rentals/38ccb6be-056c-4d2b-9fbf-40a89b7d780f - 200 null application/json; charset=utf-8; ver=1.0 243.5258ms
2025-04-25 13:26:45.381 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5178/api/Rentals/38ccb6be-056c-4d2b-9fbf-40a89b7d780f/return - application/json; ver=1.0 51
2025-04-25 13:26:45.396 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.RentalsController.Return (BikeRental.Api)'
2025-04-25 13:26:45.403 -03:00 [INF] Route matched with {action = "Return", controller = "Rentals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Return(System.Guid, BikeRental.Application.Models.RentalReturnDto) on controller BikeRental.Api.Controllers.RentalsController (BikeRental.Api).
2025-04-25 13:26:45.420 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."DailyCost", r."DeliveryPersonId", r."EndDate", r."ExpectedEndDate", r."IsActive", r."MotorcycleId", r."Plan", r."ReturnDate", r."StartDate", r."UpdatedAt", m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year", d."Id", d."BirthDate", d."CNPJ", d."CreatedAt", d."DriverLicenseImageUrl", d."DriverLicenseNumber", d."DriverLicenseType", d."Name", d."UpdatedAt"
FROM "Rentals" AS r
INNER JOIN "Motorcycles" AS m ON r."MotorcycleId" = m."Id"
INNER JOIN "DeliveryPersons" AS d ON r."DeliveryPersonId" = d."Id"
WHERE r."Id" = @__id_0
LIMIT 1
2025-04-25 13:26:45.433 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Decimal), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
UPDATE "DeliveryPersons" SET "UpdatedAt" = @p0
WHERE "Id" = @p1;
UPDATE "Motorcycles" SET "UpdatedAt" = @p2
WHERE "Id" = @p3;
UPDATE "Rentals" SET "CreatedAt" = @p4, "DailyCost" = @p5, "DeliveryPersonId" = @p6, "EndDate" = @p7, "ExpectedEndDate" = @p8, "IsActive" = @p9, "MotorcycleId" = @p10, "Plan" = @p11, "ReturnDate" = @p12, "StartDate" = @p13, "UpdatedAt" = @p14
WHERE "Id" = @p15;
2025-04-25 13:26:45.442 -03:00 [INF] Executing OkObjectResult, writing value of type 'BikeRental.Application.Models.RentalDto'.
2025-04-25 13:26:45.445 -03:00 [INF] Executed action BikeRental.Api.Controllers.RentalsController.Return (BikeRental.Api) in 38.8032ms
2025-04-25 13:26:45.448 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.RentalsController.Return (BikeRental.Api)'
2025-04-25 13:26:45.450 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5178/api/Rentals/38ccb6be-056c-4d2b-9fbf-40a89b7d780f/return - 200 null application/json; charset=utf-8; ver=1.0 69.2875ms
2025-04-25 13:28:35.503 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 13:33:35.538 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 13:38:35.551 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 13:43:35.610 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 13:48:35.637 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 13:54:17.583 -03:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 13:54:18.272 -03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-04-25 13:54:18.318 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-04-25 13:54:18.331 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 13:54:18.348 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-04-25 13:54:19.512 -03:00 [INF] Configured endpoint MotorcycleNotification, Consumer: BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer
2025-04-25 13:54:19.859 -03:00 [INF] User profile is available. Using 'C:\Users\dtiDigital\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 13:54:20.069 -03:00 [INF] Delivery Processing Service is starting.
2025-04-25 13:54:21.065 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 13:54:21.245 -03:00 [INF] Bus started: "amazonsqs://us-east-1/"
2025-04-25 13:54:21.513 -03:00 [INF] Now listening on: http://localhost:5178
2025-04-25 13:54:21.894 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 13:54:21.899 -03:00 [INF] Hosting environment: Development
2025-04-25 13:54:21.902 -03:00 [INF] Content root path: C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api
2025-04-25 13:54:22.928 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/index.html - null null
2025-04-25 13:54:23.551 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/index.html - 200 null text/html;charset=utf-8 628.3901ms
2025-04-25 13:54:23.869 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_vs/browserLink - null null
2025-04-25 13:54:24.048 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 13:54:24.110 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 59.084ms
2025-04-25 13:54:24.220 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_vs/browserLink - 200 null text/javascript; charset=UTF-8 351.6675ms
2025-04-25 13:54:24.401 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - null null
2025-04-25 13:54:24.773 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 369.9936ms
2025-04-25 13:55:02.291 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - application/json; ver=1.0 346
2025-04-25 13:55:02.314 -03:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 13:55:02.550 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 13:55:02.589 -03:00 [INF] Route matched with {action = "Create", controller = "DeliveryPersons"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.DeliveryPersonCreateDto) on controller BikeRental.Api.Controllers.DeliveryPersonsController (BikeRental.Api).
2025-04-25 13:55:02.915 -03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__cnpj_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "DeliveryPersons" AS d
    WHERE d."CNPJ" = @__cnpj_0)
2025-04-25 13:55:02.939 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__driverLicenseNumber_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "DeliveryPersons" AS d
    WHERE d."DriverLicenseNumber" = @__driverLicenseNumber_0)
2025-04-25 13:55:03.726 -03:00 [INF] Executing ConflictObjectResult, writing value of type 'BikeRental.Application.Models.ErrorResponseDto'.
2025-04-25 13:55:03.764 -03:00 [INF] Executed action BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api) in 1162.9284ms
2025-04-25 13:55:03.769 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 13:55:03.799 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - 409 null application/json; charset=utf-8; ver=1.0 1507.3371ms
2025-04-25 13:55:16.606 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - application/json; ver=1.0 345
2025-04-25 13:55:16.618 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 13:55:16.621 -03:00 [INF] Route matched with {action = "Create", controller = "DeliveryPersons"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.DeliveryPersonCreateDto) on controller BikeRental.Api.Controllers.DeliveryPersonsController (BikeRental.Api).
2025-04-25 13:55:16.639 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cnpj_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "DeliveryPersons" AS d
    WHERE d."CNPJ" = @__cnpj_0)
2025-04-25 13:55:16.647 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__driverLicenseNumber_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "DeliveryPersons" AS d
    WHERE d."DriverLicenseNumber" = @__driverLicenseNumber_0)
2025-04-25 13:55:16.862 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?', @p3='?' (DbType = DateTime2), @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DeliveryPersons" ("Id", "BirthDate", "CNPJ", "CreatedAt", "DriverLicenseImageUrl", "DriverLicenseNumber", "DriverLicenseType", "Name", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-04-25 13:55:16.884 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'BikeRental.Application.Models.DeliveryPersonDto'.
2025-04-25 13:55:16.917 -03:00 [INF] Executed action BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api) in 293.1795ms
2025-04-25 13:55:16.920 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 13:55:16.922 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons - 201 null application/json; charset=utf-8; ver=1.0 316.4436ms
2025-04-25 13:56:27.678 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/motorcycles - application/json; ver=1.0 74
2025-04-25 13:56:27.689 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 13:56:27.699 -03:00 [INF] Route matched with {action = "Create", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.MotorcycleCreateDto) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 13:56:27.743 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__licensePlate_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Motorcycles" AS m
    WHERE m."LicensePlate" = @__licensePlate_0)
2025-04-25 13:56:27.787 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?', @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Motorcycles" ("Id", "CreatedAt", "LicensePlate", "Model", "UpdatedAt", "Year")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-25 13:56:28.043 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'BikeRental.Application.Models.MotorcycleDto'.
2025-04-25 13:56:28.054 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api) in 350.7678ms
2025-04-25 13:56:28.056 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 13:56:28.058 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/motorcycles - 201 null application/json; charset=utf-8; ver=1.0 380.4358ms
2025-04-25 13:56:33.310 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "IsRead", "Message", "NotificationDate", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-25 13:57:32.537 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/Rentals - application/json; ver=1.0 378
2025-04-25 13:57:32.553 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.RentalsController.Create (BikeRental.Api)'
2025-04-25 13:57:32.564 -03:00 [INF] Route matched with {action = "Create", controller = "Rentals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.RentalDto) on controller BikeRental.Api.Controllers.RentalsController (BikeRental.Api).
2025-04-25 13:57:32.685 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."BirthDate", d."CNPJ", d."CreatedAt", d."DriverLicenseImageUrl", d."DriverLicenseNumber", d."DriverLicenseType", d."Name", d."UpdatedAt"
FROM "DeliveryPersons" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-04-25 13:57:32.714 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
WHERE m."Id" = @__p_0
LIMIT 1
2025-04-25 13:57:32.732 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__motorcycleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Rentals" AS r
    WHERE r."MotorcycleId" = @__motorcycleId_0 AND r."IsActive")
2025-04-25 13:57:32.862 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Decimal), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = Guid), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
UPDATE "DeliveryPersons" SET "UpdatedAt" = @p0
WHERE "Id" = @p1;
UPDATE "Motorcycles" SET "UpdatedAt" = @p2
WHERE "Id" = @p3;
INSERT INTO "Rentals" ("Id", "CreatedAt", "DailyCost", "DeliveryPersonId", "EndDate", "ExpectedEndDate", "IsActive", "MotorcycleId", "Plan", "ReturnDate", "StartDate", "UpdatedAt")
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-04-25 13:57:32.871 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'BikeRental.Application.Models.RentalDto'.
2025-04-25 13:57:32.874 -03:00 [INF] Executed action BikeRental.Api.Controllers.RentalsController.Create (BikeRental.Api) in 306.8339ms
2025-04-25 13:57:32.877 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.RentalsController.Create (BikeRental.Api)'
2025-04-25 13:57:32.879 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/Rentals - 201 null application/json; charset=utf-8; ver=1.0 341.1371ms
2025-04-25 13:58:11.289 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/api/Rentals/a7113b0c-5247-4059-814c-7c7253a020ea - null null
2025-04-25 13:58:11.299 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.RentalsController.GetById (BikeRental.Api)'
2025-04-25 13:58:11.307 -03:00 [INF] Route matched with {action = "GetById", controller = "Rentals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller BikeRental.Api.Controllers.RentalsController (BikeRental.Api).
2025-04-25 13:58:11.387 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."DailyCost", r."DeliveryPersonId", r."EndDate", r."ExpectedEndDate", r."IsActive", r."MotorcycleId", r."Plan", r."ReturnDate", r."StartDate", r."UpdatedAt", m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year", d."Id", d."BirthDate", d."CNPJ", d."CreatedAt", d."DriverLicenseImageUrl", d."DriverLicenseNumber", d."DriverLicenseType", d."Name", d."UpdatedAt"
FROM "Rentals" AS r
INNER JOIN "Motorcycles" AS m ON r."MotorcycleId" = m."Id"
INNER JOIN "DeliveryPersons" AS d ON r."DeliveryPersonId" = d."Id"
WHERE r."Id" = @__id_0
LIMIT 1
2025-04-25 13:58:11.404 -03:00 [INF] Executing OkObjectResult, writing value of type 'BikeRental.Application.Models.RentalDto'.
2025-04-25 13:58:11.408 -03:00 [INF] Executed action BikeRental.Api.Controllers.RentalsController.GetById (BikeRental.Api) in 96.1101ms
2025-04-25 13:58:11.411 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.RentalsController.GetById (BikeRental.Api)'
2025-04-25 13:58:11.413 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/api/Rentals/a7113b0c-5247-4059-814c-7c7253a020ea - 200 null application/json; charset=utf-8; ver=1.0 123.6883ms
2025-04-25 13:58:28.612 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5178/api/Rentals/a7113b0c-5247-4059-814c-7c7253a020ea/return - application/json; ver=1.0 51
2025-04-25 13:58:28.620 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.RentalsController.Return (BikeRental.Api)'
2025-04-25 13:58:28.629 -03:00 [INF] Route matched with {action = "Return", controller = "Rentals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Return(System.Guid, BikeRental.Application.Models.RentalReturnDto) on controller BikeRental.Api.Controllers.RentalsController (BikeRental.Api).
2025-04-25 13:58:28.650 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."DailyCost", r."DeliveryPersonId", r."EndDate", r."ExpectedEndDate", r."IsActive", r."MotorcycleId", r."Plan", r."ReturnDate", r."StartDate", r."UpdatedAt", m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year", d."Id", d."BirthDate", d."CNPJ", d."CreatedAt", d."DriverLicenseImageUrl", d."DriverLicenseNumber", d."DriverLicenseType", d."Name", d."UpdatedAt"
FROM "Rentals" AS r
INNER JOIN "Motorcycles" AS m ON r."MotorcycleId" = m."Id"
INNER JOIN "DeliveryPersons" AS d ON r."DeliveryPersonId" = d."Id"
WHERE r."Id" = @__id_0
LIMIT 1
2025-04-25 13:58:28.663 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Decimal), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
UPDATE "DeliveryPersons" SET "UpdatedAt" = @p0
WHERE "Id" = @p1;
UPDATE "Motorcycles" SET "UpdatedAt" = @p2
WHERE "Id" = @p3;
UPDATE "Rentals" SET "CreatedAt" = @p4, "DailyCost" = @p5, "DeliveryPersonId" = @p6, "EndDate" = @p7, "ExpectedEndDate" = @p8, "IsActive" = @p9, "MotorcycleId" = @p10, "Plan" = @p11, "ReturnDate" = @p12, "StartDate" = @p13, "UpdatedAt" = @p14
WHERE "Id" = @p15;
2025-04-25 13:58:28.671 -03:00 [INF] Executing OkObjectResult, writing value of type 'BikeRental.Application.Models.RentalDto'.
2025-04-25 13:58:28.673 -03:00 [INF] Executed action BikeRental.Api.Controllers.RentalsController.Return (BikeRental.Api) in 41.1773ms
2025-04-25 13:58:28.676 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.RentalsController.Return (BikeRental.Api)'
2025-04-25 13:58:28.678 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5178/api/Rentals/a7113b0c-5247-4059-814c-7c7253a020ea/return - 200 null application/json; charset=utf-8; ver=1.0 65.807ms
2025-04-25 13:59:21.202 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 13:59:22.925 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/api/DeliveryPersons/917671ec-f3d6-4d04-9893-365deda0c709 - null null
2025-04-25 13:59:22.934 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.GetById (BikeRental.Api)'
2025-04-25 13:59:22.941 -03:00 [INF] Route matched with {action = "GetById", controller = "DeliveryPersons"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller BikeRental.Api.Controllers.DeliveryPersonsController (BikeRental.Api).
2025-04-25 13:59:22.960 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."BirthDate", d."CNPJ", d."CreatedAt", d."DriverLicenseImageUrl", d."DriverLicenseNumber", d."DriverLicenseType", d."Name", d."UpdatedAt"
FROM "DeliveryPersons" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-04-25 13:59:22.968 -03:00 [INF] Executing OkObjectResult, writing value of type 'BikeRental.Application.Models.DeliveryPersonDto'.
2025-04-25 13:59:22.970 -03:00 [INF] Executed action BikeRental.Api.Controllers.DeliveryPersonsController.GetById (BikeRental.Api) in 24.2995ms
2025-04-25 13:59:22.972 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.GetById (BikeRental.Api)'
2025-04-25 13:59:22.974 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/api/DeliveryPersons/917671ec-f3d6-4d04-9893-365deda0c709 - 200 null application/json; charset=utf-8; ver=1.0 48.8767ms
2025-04-25 13:59:38.060 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons/917671ec-f3d6-4d04-9893-365deda0c709/driver-license-image - application/json; ver=1.0 128
2025-04-25 13:59:38.067 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.UpdateDriverLicenseImage (BikeRental.Api)'
2025-04-25 13:59:38.074 -03:00 [INF] Route matched with {action = "UpdateDriverLicenseImage", controller = "DeliveryPersons"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDriverLicenseImage(System.Guid, BikeRental.Application.Models.DriverLicenseImageDto) on controller BikeRental.Api.Controllers.DeliveryPersonsController (BikeRental.Api).
2025-04-25 13:59:38.089 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."BirthDate", d."CNPJ", d."CreatedAt", d."DriverLicenseImageUrl", d."DriverLicenseNumber", d."DriverLicenseType", d."Name", d."UpdatedAt"
FROM "DeliveryPersons" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-04-25 13:59:38.110 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?', @p2='?' (DbType = DateTime2), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
UPDATE "DeliveryPersons" SET "BirthDate" = @p0, "CNPJ" = @p1, "CreatedAt" = @p2, "DriverLicenseImageUrl" = @p3, "DriverLicenseNumber" = @p4, "DriverLicenseType" = @p5, "Name" = @p6, "UpdatedAt" = @p7
WHERE "Id" = @p8;
2025-04-25 13:59:38.118 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-04-25 13:59:38.119 -03:00 [INF] Executed action BikeRental.Api.Controllers.DeliveryPersonsController.UpdateDriverLicenseImage (BikeRental.Api) in 42.0962ms
2025-04-25 13:59:38.121 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.UpdateDriverLicenseImage (BikeRental.Api)'
2025-04-25 13:59:38.123 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/DeliveryPersons/917671ec-f3d6-4d04-9893-365deda0c709/driver-license-image - 200 0 null 62.3776ms
2025-04-25 13:59:47.925 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/api/motorcycles - null null
2025-04-25 13:59:47.930 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api)'
2025-04-25 13:59:47.937 -03:00 [INF] Route matched with {action = "GetAll", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 13:59:47.958 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
2025-04-25 13:59:47.964 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[BikeRental.Domain.Entities.Motorcycle, BikeRental.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BikeRental.Application.Models.MotorcycleDto, BikeRental.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 13:59:47.967 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api) in 25.8045ms
2025-04-25 13:59:47.969 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api)'
2025-04-25 13:59:47.971 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/api/motorcycles - 200 null application/json; charset=utf-8; ver=1.0 46.1426ms
2025-04-25 14:00:16.295 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/api/motorcycles/df228a9a-edb8-4876-8109-33ea57a747e9 - null null
2025-04-25 14:00:16.302 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetById (BikeRental.Api)'
2025-04-25 14:00:16.308 -03:00 [INF] Route matched with {action = "GetById", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 14:00:16.324 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
WHERE m."Id" = @__p_0
LIMIT 1
2025-04-25 14:00:16.329 -03:00 [INF] Executing OkObjectResult, writing value of type 'BikeRental.Application.Models.MotorcycleDto'.
2025-04-25 14:00:16.332 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.GetById (BikeRental.Api) in 20.6306ms
2025-04-25 14:00:16.334 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetById (BikeRental.Api)'
2025-04-25 14:00:16.336 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/api/motorcycles/df228a9a-edb8-4876-8109-33ea57a747e9 - 200 null application/json; charset=utf-8; ver=1.0 40.6906ms
2025-04-25 14:00:49.661 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5178/api/motorcycles/df228a9a-edb8-4876-8109-33ea57a747e9 - application/json; ver=1.0 31
2025-04-25 14:00:49.666 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Update (BikeRental.Api)'
2025-04-25 14:00:49.675 -03:00 [INF] Route matched with {action = "Update", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(System.Guid, BikeRental.Application.Models.MotorcycleUpdateDto) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 14:00:49.687 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
WHERE m."Id" = @__p_0
LIMIT 1
2025-04-25 14:00:49.705 -03:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?', @p2='?', @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Motorcycles" SET "CreatedAt" = @p0, "LicensePlate" = @p1, "Model" = @p2, "UpdatedAt" = @p3, "Year" = @p4
WHERE "Id" = @p5;
2025-04-25 14:00:49.765 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'BikeRental.Infrastructure.Data.BikeRentalDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_Motorcycles_LicensePlate"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_Motorcycles_LicensePlate"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Motorcycles
    ConstraintName: IX_Motorcycles_LicensePlate
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_Motorcycles_LicensePlate"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_Motorcycles_LicensePlate"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Motorcycles
    ConstraintName: IX_Motorcycles_LicensePlate
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-25 14:00:50.702 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.Update (BikeRental.Api) in 1022.4102ms
2025-04-25 14:00:50.704 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Update (BikeRental.Api)'
2025-04-25 14:00:50.714 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_Motorcycles_LicensePlate"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_Motorcycles_LicensePlate"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Motorcycles
    ConstraintName: IX_Motorcycles_LicensePlate
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BikeRental.Infrastructure.Data.BikeRentalDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Infrastructure\Data\BikeRentalDbContext.cs:line 172
   at BikeRental.Infrastructure.Repositories.MotorcycleRepository.UpdateAsync(Motorcycle motorcycle) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Infrastructure\Repositories\MotorcycleRepository .cs:line 27
   at BikeRental.Application.Services.MotorcycleService.UpdateMotorcycleAsync(Guid id, MotorcycleUpdateDto updateDto) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Application\Services\MotorcycleService.cs:line 73
   at BikeRental.Api.Controllers.MotorcyclesController.Update(Guid id, MotorcycleUpdateDto updateDto) in C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api\Controllers\MotorcyclesController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at AspNetCoreRateLimit.RateLimitMiddleware`1.Invoke(HttpContext context) in C:\Users\User\Documents\Github\AspNetCoreRateLimit\src\AspNetCoreRateLimit\Middleware\RateLimitMiddleware.cs:line 124
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-04-25 14:00:50.768 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-04-25 14:00:50.789 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5178/api/motorcycles/df228a9a-edb8-4876-8109-33ea57a747e9 - 500 null application/problem+json; charset=utf-8; ver=1.0 1128.1754ms
2025-04-25 14:01:50.745 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5178/api/motorcycles/df228a9a-edb8-4876-8109-33ea57a747e9 - application/json; ver=1.0 31
2025-04-25 14:01:50.753 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Update (BikeRental.Api)'
2025-04-25 14:01:50.755 -03:00 [INF] Route matched with {action = "Update", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(System.Guid, BikeRental.Application.Models.MotorcycleUpdateDto) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 14:01:50.767 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
WHERE m."Id" = @__p_0
LIMIT 1
2025-04-25 14:01:50.775 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?', @p2='?', @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Motorcycles" SET "CreatedAt" = @p0, "LicensePlate" = @p1, "Model" = @p2, "UpdatedAt" = @p3, "Year" = @p4
WHERE "Id" = @p5;
2025-04-25 14:01:50.778 -03:00 [INF] Executing OkObjectResult, writing value of type 'BikeRental.Application.Models.MotorcycleDto'.
2025-04-25 14:01:50.781 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.Update (BikeRental.Api) in 21.5875ms
2025-04-25 14:01:50.784 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Update (BikeRental.Api)'
2025-04-25 14:01:50.786 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5178/api/motorcycles/df228a9a-edb8-4876-8109-33ea57a747e9 - 200 null application/json; charset=utf-8; ver=1.0 40.1629ms
2025-04-25 14:02:34.739 -03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5178/api/motorcycles/df228a9a-edb8-4876-8109-33ea57a747e9 - null null
2025-04-25 14:02:34.747 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Delete (BikeRental.Api)'
2025-04-25 14:02:34.755 -03:00 [INF] Route matched with {action = "Delete", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(System.Guid) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 14:02:34.767 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
WHERE m."Id" = @__p_0
LIMIT 1
2025-04-25 14:02:34.786 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Motorcycles"
WHERE "Id" = @p0;
2025-04-25 14:02:34.795 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-04-25 14:02:34.797 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.Delete (BikeRental.Api) in 37.8642ms
2025-04-25 14:02:34.799 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Delete (BikeRental.Api)'
2025-04-25 14:02:34.801 -03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5178/api/motorcycles/df228a9a-edb8-4876-8109-33ea57a747e9 - 204 null null 61.3111ms
2025-04-25 14:04:21.212 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 18:51:46.156 -03:00 [ERR] Failed executing DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-04-25 18:51:46.598 -03:00 [INF] Applying migration '20250425132924_InitialCreate'.
2025-04-25 18:51:46.685 -03:00 [INF] Applying migration '20250425134015_FixDateTimeHandling'.
2025-04-25 18:51:46.782 -03:00 [INF] Applying migration '20250425144713_FixDateTimeHandlingV2'.
2025-04-25 18:51:46.790 -03:00 [INF] Applying migration '20250425162150_AddReturnDateToRental'.
2025-04-25 18:51:47.471 -03:00 [INF] Configured endpoint MotorcycleNotification, Consumer: BikeRental.Infrastructure.Consumers.MotorcycleNotificationConsumer
2025-04-25 18:51:47.621 -03:00 [INF] User profile is available. Using 'C:\Users\dtiDigital\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-25 18:51:47.776 -03:00 [INF] Delivery Processing Service is starting.
2025-04-25 18:51:48.325 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 18:51:48.562 -03:00 [INF] Now listening on: http://localhost:5178
2025-04-25 18:51:49.115 -03:00 [INF] Bus started: "amazonsqs://us-east-1/"
2025-04-25 18:51:49.151 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-25 18:51:49.152 -03:00 [INF] Hosting environment: Development
2025-04-25 18:51:49.154 -03:00 [INF] Content root path: C:\Users\dtiDigital\projects\BikeRental\BikeRental.Api
2025-04-25 18:51:49.523 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/index.html - null null
2025-04-25 18:51:49.928 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/index.html - 200 null text/html;charset=utf-8 408.6857ms
2025-04-25 18:51:49.949 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - null null
2025-04-25 18:51:49.973 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 24.2428ms
2025-04-25 18:51:50.058 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/_vs/browserLink - null null
2025-04-25 18:51:50.159 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/_vs/browserLink - 200 null text/javascript; charset=UTF-8 100.6322ms
2025-04-25 18:51:50.248 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - null null
2025-04-25 18:51:50.299 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.0837ms
2025-04-25 18:55:53.063 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/api/motorcycles - null null
2025-04-25 18:55:53.106 -03:00 [WRN] Failed to determine the https port for redirect.
2025-04-25 18:55:53.296 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api)'
2025-04-25 18:55:53.332 -03:00 [INF] Route matched with {action = "GetAll", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 18:55:53.510 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
2025-04-25 18:55:53.669 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[BikeRental.Domain.Entities.Motorcycle, BikeRental.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BikeRental.Application.Models.MotorcycleDto, BikeRental.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 18:55:53.693 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api) in 351.6142ms
2025-04-25 18:55:53.697 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api)'
2025-04-25 18:55:53.711 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/api/motorcycles - 200 null application/json; charset=utf-8; ver=1.0 647.4615ms
2025-04-25 18:56:09.875 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/motorcycles - application/json; ver=1.0 74
2025-04-25 18:56:09.888 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 18:56:09.896 -03:00 [INF] Route matched with {action = "Create", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.MotorcycleCreateDto) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 18:56:10.041 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__licensePlate_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Motorcycles" AS m
    WHERE m."LicensePlate" = @__licensePlate_0)
2025-04-25 18:56:10.167 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?', @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Motorcycles" ("Id", "CreatedAt", "LicensePlate", "Model", "UpdatedAt", "Year")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-25 18:56:10.397 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'BikeRental.Application.Models.MotorcycleDto'.
2025-04-25 18:56:10.433 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api) in 532.2938ms
2025-04-25 18:56:10.436 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Create (BikeRental.Api)'
2025-04-25 18:56:10.439 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/motorcycles - 201 null application/json; charset=utf-8; ver=1.0 564.4536ms
2025-04-25 18:56:10.578 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?', @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "IsRead", "Message", "NotificationDate", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-25 18:56:48.394 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 18:57:04.666 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/api/motorcycles - null null
2025-04-25 18:57:04.678 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api)'
2025-04-25 18:57:04.681 -03:00 [INF] Route matched with {action = "GetAll", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 18:57:04.698 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
2025-04-25 18:57:04.706 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[BikeRental.Domain.Entities.Motorcycle, BikeRental.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BikeRental.Application.Models.MotorcycleDto, BikeRental.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 18:57:04.710 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api) in 24.8484ms
2025-04-25 18:57:04.714 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api)'
2025-04-25 18:57:04.718 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/api/motorcycles - 200 null application/json; charset=utf-8; ver=1.0 51.7677ms
2025-04-25 18:57:18.443 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/api/motorcycles/a1b2c3d4-1234-5678-9012-abcdef123456 - null null
2025-04-25 18:57:18.449 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetById (BikeRental.Api)'
2025-04-25 18:57:18.458 -03:00 [INF] Route matched with {action = "GetById", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 18:57:18.541 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
WHERE m."Id" = @__p_0
LIMIT 1
2025-04-25 18:57:18.548 -03:00 [INF] Executing OkObjectResult, writing value of type 'BikeRental.Application.Models.MotorcycleDto'.
2025-04-25 18:57:18.551 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.GetById (BikeRental.Api) in 88.3886ms
2025-04-25 18:57:18.552 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetById (BikeRental.Api)'
2025-04-25 18:57:18.555 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/api/motorcycles/a1b2c3d4-1234-5678-9012-abcdef123456 - 200 null application/json; charset=utf-8; ver=1.0 111.9867ms
2025-04-25 18:58:00.452 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5178/api/motorcycles/a1b2c3d4-1234-5678-9012-abcdef123456 - application/json; ver=1.0 31
2025-04-25 18:58:00.459 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Update (BikeRental.Api)'
2025-04-25 18:58:00.466 -03:00 [INF] Route matched with {action = "Update", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(System.Guid, BikeRental.Application.Models.MotorcycleUpdateDto) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 18:58:00.482 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
WHERE m."Id" = @__p_0
LIMIT 1
2025-04-25 18:58:00.504 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?', @p2='?', @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Motorcycles" SET "CreatedAt" = @p0, "LicensePlate" = @p1, "Model" = @p2, "UpdatedAt" = @p3, "Year" = @p4
WHERE "Id" = @p5;
2025-04-25 18:58:00.509 -03:00 [INF] Executing OkObjectResult, writing value of type 'BikeRental.Application.Models.MotorcycleDto'.
2025-04-25 18:58:00.512 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.Update (BikeRental.Api) in 42.2814ms
2025-04-25 18:58:00.514 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Update (BikeRental.Api)'
2025-04-25 18:58:00.516 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5178/api/motorcycles/a1b2c3d4-1234-5678-9012-abcdef123456 - 200 null application/json; charset=utf-8; ver=1.0 63.405ms
2025-04-25 18:58:07.783 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/api/motorcycles - null null
2025-04-25 18:58:07.790 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api)'
2025-04-25 18:58:07.792 -03:00 [INF] Route matched with {action = "GetAll", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 18:58:07.802 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
2025-04-25 18:58:07.808 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[BikeRental.Domain.Entities.Motorcycle, BikeRental.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BikeRental.Application.Models.MotorcycleDto, BikeRental.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 18:58:07.811 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api) in 14.3604ms
2025-04-25 18:58:07.815 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api)'
2025-04-25 18:58:07.818 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/api/motorcycles - 200 null application/json; charset=utf-8; ver=1.0 34.0324ms
2025-04-25 18:58:29.730 -03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5178/api/motorcycles/a1b2c3d4-1234-5678-9012-abcdef123456 - null null
2025-04-25 18:58:29.744 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Delete (BikeRental.Api)'
2025-04-25 18:58:29.752 -03:00 [INF] Route matched with {action = "Delete", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(System.Guid) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 18:58:29.765 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
WHERE m."Id" = @__p_0
LIMIT 1
2025-04-25 18:58:29.788 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Motorcycles"
WHERE "Id" = @p0;
2025-04-25 18:58:29.800 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-04-25 18:58:29.802 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.Delete (BikeRental.Api) in 45.2068ms
2025-04-25 18:58:29.805 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.Delete (BikeRental.Api)'
2025-04-25 18:58:29.808 -03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5178/api/motorcycles/a1b2c3d4-1234-5678-9012-abcdef123456 - 204 null null 77.965ms
2025-04-25 18:58:34.637 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/api/motorcycles - null null
2025-04-25 18:58:34.642 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api)'
2025-04-25 18:58:34.644 -03:00 [INF] Route matched with {action = "GetAll", controller = "Motorcycles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String) on controller BikeRental.Api.Controllers.MotorcyclesController (BikeRental.Api).
2025-04-25 18:58:34.656 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
2025-04-25 18:58:34.660 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[BikeRental.Domain.Entities.Motorcycle, BikeRental.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BikeRental.Application.Models.MotorcycleDto, BikeRental.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-25 18:58:34.664 -03:00 [INF] Executed action BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api) in 16.7745ms
2025-04-25 18:58:34.667 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.MotorcyclesController.GetAll (BikeRental.Api)'
2025-04-25 18:58:34.669 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/api/motorcycles - 200 null application/json; charset=utf-8; ver=1.0 32.1476ms
2025-04-25 18:58:55.092 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/delivery-persons - application/json; ver=1.0 346
2025-04-25 18:58:55.098 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 18:58:55.107 -03:00 [INF] Route matched with {action = "Create", controller = "DeliveryPersons"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.DeliveryPersonCreateDto) on controller BikeRental.Api.Controllers.DeliveryPersonsController (BikeRental.Api).
2025-04-25 18:58:55.170 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cnpj_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "DeliveryPersons" AS d
    WHERE d."CNPJ" = @__cnpj_0)
2025-04-25 18:58:55.184 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__driverLicenseNumber_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "DeliveryPersons" AS d
    WHERE d."DriverLicenseNumber" = @__driverLicenseNumber_0)
2025-04-25 18:58:55.265 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?', @p3='?' (DbType = DateTime2), @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "DeliveryPersons" ("Id", "BirthDate", "CNPJ", "CreatedAt", "DriverLicenseImageUrl", "DriverLicenseNumber", "DriverLicenseType", "Name", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-04-25 18:58:55.273 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'BikeRental.Application.Models.DeliveryPersonDto'.
2025-04-25 18:58:55.280 -03:00 [INF] Executed action BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api) in 170.1388ms
2025-04-25 18:58:55.283 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.Create (BikeRental.Api)'
2025-04-25 18:58:55.285 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/delivery-persons - 201 null application/json; charset=utf-8; ver=1.0 192.6936ms
2025-04-25 18:59:21.605 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/api/delivery-persons/adfec483-12aa-4915-bec7-1e33d1178311 - null null
2025-04-25 18:59:21.623 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.GetById (BikeRental.Api)'
2025-04-25 18:59:21.631 -03:00 [INF] Route matched with {action = "GetById", controller = "DeliveryPersons"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller BikeRental.Api.Controllers.DeliveryPersonsController (BikeRental.Api).
2025-04-25 18:59:21.667 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."BirthDate", d."CNPJ", d."CreatedAt", d."DriverLicenseImageUrl", d."DriverLicenseNumber", d."DriverLicenseType", d."Name", d."UpdatedAt"
FROM "DeliveryPersons" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-04-25 18:59:21.676 -03:00 [INF] Executing OkObjectResult, writing value of type 'BikeRental.Application.Models.DeliveryPersonDto'.
2025-04-25 18:59:21.678 -03:00 [INF] Executed action BikeRental.Api.Controllers.DeliveryPersonsController.GetById (BikeRental.Api) in 42.8082ms
2025-04-25 18:59:21.682 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.GetById (BikeRental.Api)'
2025-04-25 18:59:21.685 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/api/delivery-persons/adfec483-12aa-4915-bec7-1e33d1178311 - 200 null application/json; charset=utf-8; ver=1.0 79.6113ms
2025-04-25 19:00:04.622 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/delivery-persons/adfec483-12aa-4915-bec7-1e33d1178311/driver-license-image - application/json; ver=1.0 128
2025-04-25 19:00:04.628 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.UpdateDriverLicenseImage (BikeRental.Api)'
2025-04-25 19:00:04.638 -03:00 [INF] Route matched with {action = "UpdateDriverLicenseImage", controller = "DeliveryPersons"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDriverLicenseImage(System.Guid, BikeRental.Application.Models.DriverLicenseImageDto) on controller BikeRental.Api.Controllers.DeliveryPersonsController (BikeRental.Api).
2025-04-25 19:00:04.660 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."BirthDate", d."CNPJ", d."CreatedAt", d."DriverLicenseImageUrl", d."DriverLicenseNumber", d."DriverLicenseType", d."Name", d."UpdatedAt"
FROM "DeliveryPersons" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-04-25 19:00:04.678 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?', @p2='?' (DbType = DateTime2), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
UPDATE "DeliveryPersons" SET "BirthDate" = @p0, "CNPJ" = @p1, "CreatedAt" = @p2, "DriverLicenseImageUrl" = @p3, "DriverLicenseNumber" = @p4, "DriverLicenseType" = @p5, "Name" = @p6, "UpdatedAt" = @p7
WHERE "Id" = @p8;
2025-04-25 19:00:04.683 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-04-25 19:00:04.685 -03:00 [INF] Executed action BikeRental.Api.Controllers.DeliveryPersonsController.UpdateDriverLicenseImage (BikeRental.Api) in 41.5217ms
2025-04-25 19:00:04.687 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.UpdateDriverLicenseImage (BikeRental.Api)'
2025-04-25 19:00:04.689 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/delivery-persons/adfec483-12aa-4915-bec7-1e33d1178311/driver-license-image - 200 0 null 66.6297ms
2025-04-25 19:00:13.230 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/api/delivery-persons/adfec483-12aa-4915-bec7-1e33d1178311 - null null
2025-04-25 19:00:13.245 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.GetById (BikeRental.Api)'
2025-04-25 19:00:13.249 -03:00 [INF] Route matched with {action = "GetById", controller = "DeliveryPersons"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller BikeRental.Api.Controllers.DeliveryPersonsController (BikeRental.Api).
2025-04-25 19:00:13.261 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."BirthDate", d."CNPJ", d."CreatedAt", d."DriverLicenseImageUrl", d."DriverLicenseNumber", d."DriverLicenseType", d."Name", d."UpdatedAt"
FROM "DeliveryPersons" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-04-25 19:00:13.268 -03:00 [INF] Executing OkObjectResult, writing value of type 'BikeRental.Application.Models.DeliveryPersonDto'.
2025-04-25 19:00:13.272 -03:00 [INF] Executed action BikeRental.Api.Controllers.DeliveryPersonsController.GetById (BikeRental.Api) in 16.9101ms
2025-04-25 19:00:13.275 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.DeliveryPersonsController.GetById (BikeRental.Api)'
2025-04-25 19:00:13.277 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/api/delivery-persons/adfec483-12aa-4915-bec7-1e33d1178311 - 200 null application/json; charset=utf-8; ver=1.0 47.0943ms
2025-04-25 19:01:30.092 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5178/api/rentals-controller - application/json; ver=1.0 378
2025-04-25 19:01:30.099 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.RentalsController.Create (BikeRental.Api)'
2025-04-25 19:01:30.105 -03:00 [INF] Route matched with {action = "Create", controller = "Rentals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(BikeRental.Application.Models.RentalDto) on controller BikeRental.Api.Controllers.RentalsController (BikeRental.Api).
2025-04-25 19:01:30.153 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."BirthDate", d."CNPJ", d."CreatedAt", d."DriverLicenseImageUrl", d."DriverLicenseNumber", d."DriverLicenseType", d."Name", d."UpdatedAt"
FROM "DeliveryPersons" AS d
WHERE d."Id" = @__p_0
LIMIT 1
2025-04-25 19:01:30.161 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year"
FROM "Motorcycles" AS m
WHERE m."Id" = @__p_0
LIMIT 1
2025-04-25 19:01:30.176 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__motorcycleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Rentals" AS r
    WHERE r."MotorcycleId" = @__motorcycleId_0 AND r."IsActive")
2025-04-25 19:01:30.284 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Decimal), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = Guid), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
UPDATE "DeliveryPersons" SET "UpdatedAt" = @p0
WHERE "Id" = @p1;
UPDATE "Motorcycles" SET "UpdatedAt" = @p2
WHERE "Id" = @p3;
INSERT INTO "Rentals" ("Id", "CreatedAt", "DailyCost", "DeliveryPersonId", "EndDate", "ExpectedEndDate", "IsActive", "MotorcycleId", "Plan", "ReturnDate", "StartDate", "UpdatedAt")
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-04-25 19:01:30.299 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'BikeRental.Application.Models.RentalDto'.
2025-04-25 19:01:30.302 -03:00 [INF] Executed action BikeRental.Api.Controllers.RentalsController.Create (BikeRental.Api) in 193.735ms
2025-04-25 19:01:30.304 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.RentalsController.Create (BikeRental.Api)'
2025-04-25 19:01:30.306 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5178/api/rentals-controller - 201 null application/json; charset=utf-8; ver=1.0 213.7057ms
2025-04-25 19:01:48.418 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedAt", o."DeliveryDate", o."IsCompleted", o."RentalId", o."UpdatedAt", o."Value"
FROM "OrderDeliveries" AS o
WHERE NOT (o."IsCompleted")
2025-04-25 19:01:54.637 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5178/api/rentals-controller/2176506f-61fc-4851-80c0-c244a0cf2a9b - null null
2025-04-25 19:01:54.646 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.RentalsController.GetById (BikeRental.Api)'
2025-04-25 19:01:54.653 -03:00 [INF] Route matched with {action = "GetById", controller = "Rentals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller BikeRental.Api.Controllers.RentalsController (BikeRental.Api).
2025-04-25 19:01:54.763 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."DailyCost", r."DeliveryPersonId", r."EndDate", r."ExpectedEndDate", r."IsActive", r."MotorcycleId", r."Plan", r."ReturnDate", r."StartDate", r."UpdatedAt", m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year", d."Id", d."BirthDate", d."CNPJ", d."CreatedAt", d."DriverLicenseImageUrl", d."DriverLicenseNumber", d."DriverLicenseType", d."Name", d."UpdatedAt"
FROM "Rentals" AS r
INNER JOIN "Motorcycles" AS m ON r."MotorcycleId" = m."Id"
INNER JOIN "DeliveryPersons" AS d ON r."DeliveryPersonId" = d."Id"
WHERE r."Id" = @__id_0
LIMIT 1
2025-04-25 19:01:54.779 -03:00 [INF] Executing OkObjectResult, writing value of type 'BikeRental.Application.Models.RentalDto'.
2025-04-25 19:01:54.782 -03:00 [INF] Executed action BikeRental.Api.Controllers.RentalsController.GetById (BikeRental.Api) in 125.3923ms
2025-04-25 19:01:54.785 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.RentalsController.GetById (BikeRental.Api)'
2025-04-25 19:01:54.787 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5178/api/rentals-controller/2176506f-61fc-4851-80c0-c244a0cf2a9b - 200 null application/json; charset=utf-8; ver=1.0 150.1979ms
2025-04-25 19:02:09.614 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5178/api/rentals-controller/2176506f-61fc-4851-80c0-c244a0cf2a9b/return - application/json; ver=1.0 51
2025-04-25 19:02:09.621 -03:00 [INF] Executing endpoint 'BikeRental.Api.Controllers.RentalsController.Return (BikeRental.Api)'
2025-04-25 19:02:09.631 -03:00 [INF] Route matched with {action = "Return", controller = "Rentals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Return(System.Guid, BikeRental.Application.Models.RentalReturnDto) on controller BikeRental.Api.Controllers.RentalsController (BikeRental.Api).
2025-04-25 19:02:09.649 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."DailyCost", r."DeliveryPersonId", r."EndDate", r."ExpectedEndDate", r."IsActive", r."MotorcycleId", r."Plan", r."ReturnDate", r."StartDate", r."UpdatedAt", m."Id", m."CreatedAt", m."LicensePlate", m."Model", m."UpdatedAt", m."Year", d."Id", d."BirthDate", d."CNPJ", d."CreatedAt", d."DriverLicenseImageUrl", d."DriverLicenseNumber", d."DriverLicenseType", d."Name", d."UpdatedAt"
FROM "Rentals" AS r
INNER JOIN "Motorcycles" AS m ON r."MotorcycleId" = m."Id"
INNER JOIN "DeliveryPersons" AS d ON r."DeliveryPersonId" = d."Id"
WHERE r."Id" = @__id_0
LIMIT 1
2025-04-25 19:02:09.659 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Decimal), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
UPDATE "DeliveryPersons" SET "UpdatedAt" = @p0
WHERE "Id" = @p1;
UPDATE "Motorcycles" SET "UpdatedAt" = @p2
WHERE "Id" = @p3;
UPDATE "Rentals" SET "CreatedAt" = @p4, "DailyCost" = @p5, "DeliveryPersonId" = @p6, "EndDate" = @p7, "ExpectedEndDate" = @p8, "IsActive" = @p9, "MotorcycleId" = @p10, "Plan" = @p11, "ReturnDate" = @p12, "StartDate" = @p13, "UpdatedAt" = @p14
WHERE "Id" = @p15;
2025-04-25 19:02:09.670 -03:00 [INF] Executing OkObjectResult, writing value of type 'BikeRental.Application.Models.RentalDto'.
2025-04-25 19:02:09.673 -03:00 [INF] Executed action BikeRental.Api.Controllers.RentalsController.Return (BikeRental.Api) in 38.7046ms
2025-04-25 19:02:09.675 -03:00 [INF] Executed endpoint 'BikeRental.Api.Controllers.RentalsController.Return (BikeRental.Api)'
2025-04-25 19:02:09.677 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5178/api/rentals-controller/2176506f-61fc-4851-80c0-c244a0cf2a9b/return - 200 null application/json; charset=utf-8; ver=1.0 63.0141ms
2025-04-25 19:03:08.278 -03:00 [INF] Application is shutting down...
2025-04-25 19:03:09.536 -03:00 [INF] Bus stopped: "amazonsqs://us-east-1/"
